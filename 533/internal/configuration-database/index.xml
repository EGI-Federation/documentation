<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>EGI Documentation – Configuration Database</title><link>/internal/configuration-database/</link><description>Recent content in Configuration Database on EGI Documentation</description><generator>Hugo -- gohugo.io</generator><atom:link href="/internal/configuration-database/index.xml" rel="self" type="application/rss+xml"/><item><title>Internal: Service information</title><link>/internal/configuration-database/service-information/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/service-information/</guid><description>
&lt;h2 id="identity-card">Identity card&lt;/h2>
&lt;!-- markdownlint-disable no-inline-html no-bare-urls -->
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Property&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Name&lt;/td>
&lt;td>Configuration Database&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Description&lt;/td>
&lt;td>Central registry of the infrastructure topology&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>URL&lt;/td>
&lt;td>&lt;a href="https://goc.egi.eu">https://goc.egi.eu&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Support Email&lt;/td>
&lt;td>&lt;code>gocdb-admin&lt;/code> &lt;code>&amp;lt;at&amp;gt;&lt;/code> &lt;code>mailman.egi.eu&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="../../helpdesk">Helpdesk&lt;/a> Support Unit&lt;/td>
&lt;td>&lt;strong>EGI Services and Service Components&lt;/strong> &lt;br /> I__ Configuration Database (GOCDB)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration Database entry&lt;/td>
&lt;td>&lt;a href="https://goc.egi.eu/portal/index.php?Page_Type=Site&amp;amp;id=335">https://goc.egi.eu/portal/index.php?Page_Type=Site&amp;amp;id=335&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Supplier&lt;/td>
&lt;td>&lt;a href="https://www.ukri.org/">UKRI&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Roadmap&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Release notes&lt;/td>
&lt;td>&lt;a href="https://github.com/GOCDB/gocdb/releases">Release notes&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Source code&lt;/td>
&lt;td>&lt;a href="https://github.com/GOCDB">https://github.com/GOCDB&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Issue tracker for developers&lt;/td>
&lt;td>&lt;a href="https://github.com/GOCDB/gocdb/issues">https://github.com/GOCDB/gocdb/issues&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>License&lt;/td>
&lt;td>Apache 2&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Privacy Policy&lt;/td>
&lt;td>&lt;a href="https://goc.egi.eu/privacy.html">Privacy policy&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;!-- markdownlint-enable no-inline-html no-bare-urls --></description></item><item><title>Internal: Access</title><link>/internal/configuration-database/access/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/access/</guid><description>
&lt;p>To access the &lt;a href="https://goc.egi.eu">web interface&lt;/a> of the EGI Configuration
Database (GOCDB), users can either:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="#using-institutional-account-via-egi-check-in">Use EGI Check-in&lt;/a> with an
institutional account, or&lt;/li>
&lt;li>&lt;a href="#using-an-x509-digital-certificate">Use an X.509 digital certificate&lt;/a>
installed in the internet browser, or the local machine&amp;rsquo;s certificate store.&lt;/li>
&lt;/ul>
&lt;p>Users can access the system as soon as they are authenticated. However, they
will only be able to update information based on their roles, and only once they
will have &lt;a href="#registering-a-new-user-account">registered a new user account&lt;/a>.&lt;/p>
&lt;p>More information about roles and associated permission is available in the
&lt;a href="../users-roles">&lt;em>Users and roles&lt;/em>&lt;/a> section of the documentation.&lt;/p>
&lt;p>Applications requesting a specific role have to be validated by parent roles or
administrators. Once granted, users can access and/or modify relevant
information, according to the roles granted to them.&lt;/p>
&lt;h2 id="using-institutional-account-via-egi-check-in">Using institutional account via EGI Check-in&lt;/h2>
&lt;p>In order to be able to access the Configuration Database with their
institutional account, users need to:&lt;/p>
&lt;ol>
&lt;li>Have their Identity Provider (IdP) federated in EGI Check-in (via
&lt;a href="https://edugain.org/">eduGAIN&lt;/a> or directly).&lt;/li>
&lt;li>Have created an &lt;a href="../../../users/aai/check-in/signup">EGI Check-in account&lt;/a>.&lt;/li>
&lt;/ol>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Important&lt;/h4>
&lt;p>In the case the user cannot use
an IdP compliant with &lt;a href="https://refeds.org/research-and-scholarship">REFEDS R&amp;amp;S&lt;/a>
and &lt;a href="https://refeds.org/sirtfi">REFEDS Sirtfi&lt;/a>, the user will have to request
joining a specific group, by performing the steps below. Using a compliant IdP
is the preferable solution.&lt;/p>
&lt;ol>
&lt;li>User should ask to join the
&lt;a href="https://aai.egi.eu/registry/co_petitions/start/coef:41">GOCDB user group&lt;/a>.&lt;/li>
&lt;li>The access request will be managed by the EGI Operations team.&lt;/li>
&lt;/ol>
&lt;/div>
&lt;h2 id="using-an-x509-digital-certificate">Using an X.509 digital certificate&lt;/h2>
&lt;p>To access the Configuration Database using a digital certificate, first obtain a
certificate from one of the recognised EU-Grid-PMA Certification Authorities
(CAs), then install it in your browser of choice (or import it into the
certificate store of your local machine, on Windows).&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
&lt;p>X.509 certificates do not support single
or double quotes in the certificate&amp;rsquo;s Distinguished Name (DN). The DN below is
rejected because of the single quote:&lt;/p>
&lt;p>&lt;code>/C=UK/O=STFC/OU=SomeOrgUnit/CN=David Mc'Donald&lt;/code>&lt;/p>
&lt;p>This is in accordance with &lt;a href="https://tools.ietf.org/html/rfc1778">RFC1778&lt;/a>, which
also disallows single quotes in all Relative Distinguished Name (RDN)
components, and the OGF Certificate Authority Working Group (CAOPS) who strongly
discourage any type of quote in a certificate DN as specified by their
&lt;a href="https://www.ogf.org/documents/GFD.125.pdf">Grid Certificate Profile&lt;/a> document.&lt;/p>
&lt;/div>
&lt;h2 id="registering-a-new-user-account">Registering a new user account&lt;/h2>
&lt;p>Being authenticated in one of the two ways described above is enough to have
read-only access to all the public features of the EGI Configuration Database.
If you need to edit data in and request roles, you will need to fill in the
registration form.&lt;/p>
&lt;p>&lt;strong>To Register&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>Go to the &lt;a href="https://goc.egi.eu">EGI Configuration Database web portal&lt;/a>&lt;/li>
&lt;li>In the left sidebar, look out for the &lt;strong>User status&lt;/strong> panel&lt;/li>
&lt;li>click on the &amp;ldquo;Register&amp;rdquo; link&lt;/li>
&lt;li>fill in the form and validate&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>If you were registered but are not recognised anymore (e.g. because your
certificate DN changed), do not register again! Instead, follow the steps
&lt;a href="../users-roles/managing-accounts#lost-access-to-your-account">Lost access to your Configuration Database account&lt;/a>
section.&lt;/p>
&lt;/blockquote></description></item><item><title>Internal: Adding service endpoints</title><link>/internal/configuration-database/adding-service-endpoint/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/adding-service-endpoint/</guid><description>
&lt;p>For monitoring purposes, each service endpoints registered into the
Configuration Database, and having the flags &lt;em>production&lt;/em> and &lt;em>monitored&lt;/em> should
include the endpoint URL information in order to be contacted by the
corresponding service-specific nagios probe.&lt;/p>
&lt;p>The information needed for service type are:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>SRM&lt;/strong>: the value of the attribute &lt;code>GlueServiceEndpoint&lt;/code> published in the
Configuration Database or BDII (e.g. &lt;code>httpg://se.egi.eu:8444/srm/managerv2&lt;/code>)&lt;/li>
&lt;li>Cloud:
&lt;ul>
&lt;li>&lt;strong>org.openstack.nova&lt;/strong>: The &lt;code>endpoint URL&lt;/code> must contain the Keystone v3 URL:
&lt;code>https://hostname:port/url/v3&lt;/code>&lt;/li>
&lt;li>&lt;strong>org.openstack.swift&lt;/strong>:The &lt;code>endpoint URL&lt;/code> must contain the Keystone v3 URL:
&lt;code>https://hostname:port/url/v3&lt;/code>&lt;/li>
&lt;li>&lt;strong>eu.egi.cloud.accounting&lt;/strong>: for the host sending the records to the
accounting repositority&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Other service types: the value of the attribute &lt;code>GlueServiceEndpoint&lt;/code>
published in the BDII&lt;/li>
&lt;/ul>
&lt;p>It is also possible to register additional endpoints for every services, they
will also be monitored if the &amp;ldquo;Monitored&amp;rdquo; flag is set.&lt;/p>
&lt;p>For having more information about managing the Service endpoints in the
Configuration Database, please consult the
&lt;a href="../service-entities">service endpoints documentation&lt;/a>.&lt;/p>
&lt;h2 id="retrieving-the-information">Retrieving the information&lt;/h2>
&lt;p>For retrieving the queue URL from the BDII, you can use the command
&lt;code>lcg-infosites&lt;/code>, to be executed from an UI. Be sure to query a production Top
BDII: you can either use the one provided by your Operations Centre or choose
one from
&lt;a href="https://goc.egi.eu/portal/index.php?Page_Type=Service_Group&amp;amp;id=1205">the Configuration Database&lt;/a>&lt;/p>
&lt;p>For example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ &lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">LCG_GFAL_INFOSYS&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>egee-bdii.cnaf.infn.it:2170
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ lcg-infosites --vo ops ce &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep nikhef
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#0000cf;font-weight:bold">5680&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">15&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> dissel.nikhef.nl:2119/jobmanager-pbs-infra
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#0000cf;font-weight:bold">5680&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">17&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> gazon.nikhef.nl:8443/cream-pbs-infra
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#0000cf;font-weight:bold">5680&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">15&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> juk.nikhef.nl:8443/cream-pbs-infra
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#0000cf;font-weight:bold">5680&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">15&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> klomp.nikhef.nl:8443/cream-pbs-infra
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#0000cf;font-weight:bold">5680&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">16&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> stremsel.nikhef.nl:8443/cream-pbs-infra
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In order to find the &lt;code>GlueServiceEndpoint&lt;/code> URL of your SRM service, you can
launch a LDAP query to your Site BDII (or directly to the SRM service):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ ldapsearch -x -LLL -H ldap://sbdii01.ncg.ingrid.pt:2170 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> -b &lt;span style="color:#4e9a06">&amp;#34;mds-vo-name=NCG-INGRID-PT,o=grid&amp;#34;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;(&amp;amp;(objectClass=GlueService)(GlueServiceType=SRM))&amp;#39;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> GlueServiceEndpoint
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dn: &lt;span style="color:#000">GlueServiceUniqueID&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>httpg://srm01.ncg.ingrid.pt:8444/srm/managerv2,Mds-Vo-name&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>NCG-INGRID-PT,o&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>grid
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>GlueServiceEndpoint: httpg://srm01.ncg.ingrid.pt:8444/srm/managerv2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In a similar way, by just changing the value of &lt;code>GlueServiceType&lt;/code>, you can
retrieve the endpoint URLs of other services.&lt;/p>
&lt;p>An alternative way for retrieving the &lt;code>GlueServiceEndpoint&lt;/code> URL is using the
GLUE2 information browser provided by
&lt;a href="https://operations-portal.egi.eu/vapor/resources/GL2ResNGISites">VAPOR&lt;/a>: select
your NGI, then your site and hence the Storage service; click on the &lt;em>endpoint
details&lt;/em> button for finding the URL associated to the SRM interface.&lt;/p>
&lt;h2 id="filling-the-information-in">Filling the information in&lt;/h2>
&lt;h3 id="urls-information-are-completely-missing">URLs information are completely missing&lt;/h3>
&lt;h4 id="editing-the-services-information">Editing the services information&lt;/h4>
&lt;ul>
&lt;li>Site overview&lt;/li>
&lt;/ul>
&lt;p>This is the home page regarding your site. You need to fill in the URL
information.&lt;/p>
&lt;blockquote>
&lt;p>Click on a service for displaying its page (e.g. the CREAM-CE).&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="site-overview.png" alt="Site overview">&lt;/p>
&lt;ul>
&lt;li>Editing a service&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Click on the EDIT button on the top right corner&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="service-overview.png" alt="Service overview">&lt;/p>
&lt;ul>
&lt;li>Adding a Service URL&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>fill in the &lt;em>Service URL&lt;/em> field with the queue URL&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="service-edition.png" alt="Service Edition">&lt;/p>
&lt;ul>
&lt;li>Reviewing the site&lt;/li>
&lt;/ul>
&lt;p>Now the CREAM-CE service endpoint contains the required queue information.&lt;/p>
&lt;blockquote>
&lt;p>Proceed in a similar way for the other services.&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="completed-service-overview.png" alt="Completed service overview">&lt;/p>
&lt;h3 id="additional-endpoints-information">Additional endpoints information&lt;/h3>
&lt;p>In case you need to register an additional endpoint for a service, go on the
service summary page and add the proper information. In the example below it is
shown the case of a computing element.&lt;/p>
&lt;ul>
&lt;li>Service summary page&lt;/li>
&lt;/ul>
&lt;p>This is the service summary page.&lt;/p>
&lt;blockquote>
&lt;p>You need to click on the &lt;em>Add endpoint&lt;/em> button for registering additional
endpoint URLs.&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="service-summary-page.png" alt="Service summary page">&lt;/p>
&lt;ul>
&lt;li>Adding an endpoint&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Fill in the proper information and don&amp;rsquo;t forget to select the &amp;ldquo;Monitored&amp;rdquo; flag
for making nagios to detect the new endpoint.&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="add-endpoint.png" alt="Adding and endpoint">&lt;/p>
&lt;ul>
&lt;li>Reviewing the endpoint description&lt;/li>
&lt;/ul>
&lt;p>The summary page of the endpoint just added should look like this one.&lt;/p>
&lt;p>&lt;img src="service-endpoint-page.png" alt="Service endpoint page">&lt;/p>
&lt;ul>
&lt;li>Reviewing the service description&lt;/li>
&lt;/ul>
&lt;p>And this is the summary page of the service reporting the information about all
its endpoints registered: the first one in the &lt;em>Grid Information&lt;/em> section and
the additional ones in the &lt;em>Service Endpoints&lt;/em> section.&lt;/p>
&lt;p>&lt;img src="service-description-review.png" alt="Service summary page">&lt;/p>
&lt;h2 id="examples">Examples&lt;/h2>
&lt;h3 id="webdav">webdav&lt;/h3>
&lt;p>In order to properly monitor your webdav endpoint:&lt;/p>
&lt;ul>
&lt;li>you should register a new service endpoint with the webdav service type,
separated from the SRM one;&lt;/li>
&lt;li>the endpoint URL information used for monitoring purposes should be set in the
&lt;a href="../extension-properties">extension properties&lt;/a> section. Create the following:
&lt;ul>
&lt;li>Name: ARGO_WEBDAV_OPS_URL&lt;/li>
&lt;li>Value: webdav URL containing also the VO ops folder, for example:
&lt;code>https://darkstorm.cnaf.infn.it:8443/webdav/ops&lt;/code> or
&lt;code>https://hepgrid11.ph.liv.ac.uk/dpm/ph.liv.ac.uk/home/ops/&lt;/code>
&lt;ul>
&lt;li>it corresponds to the value of GLUE2 attribute &lt;code>GLUE2EndpointURL&lt;/code>
(containing the used port and without the VO folder);&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>verify that the webdav URL (for example:
&lt;code>https://darkstorm.cnaf.infn.it:8443/webdav&lt;/code>) is properly accessible.&lt;/li>
&lt;/ul>
&lt;h3 id="eos-and-xrootd-service-endpoints">EOS and XrootD service endpoints&lt;/h3>
&lt;p>The EOS service endpoints expose an XrootD interface, so in order to properly
monitor them, even in case you provide a plain XrootD endpoint, please do the
following:&lt;/p>
&lt;ul>
&lt;li>you should register a new service endpoint with the XrootD service type;&lt;/li>
&lt;li>the endpoint URL information used for monitoring purposes should be set in the
&lt;a href="../extension-properties">extension properties&lt;/a> section. Create the following:
&lt;ul>
&lt;li>Name: ARGO_XROOTD_OPS_URL&lt;/li>
&lt;li>Value: XRootD base SURL to test (the path where ops VO has write access),
for example: &lt;code>root://eosatlas.cern.ch//eos/atlas/opstest/egi/&lt;/code>,
&lt;code>root://recas-se-01.cs.infn.it:1094/dpm/cs.infn.it/home/ops/&lt;/code>,
&lt;code>root://dcache-atlas-xrootd-ops.desy.de:2811/pnfs/desy.de/ops&lt;/code> or similar).
Pay attention to the port configured for the interface.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="gridftp">GridFTP&lt;/h3>
&lt;p>In order to properly monitor your gridftp endpoint for ops VO&lt;/p>
&lt;ul>
&lt;li>register a new service endpoint, associating the storage element hostname to
the service type &lt;code>globus-GRIDFTP&lt;/code>, with the &amp;ldquo;production&amp;rdquo; flag disabled;&lt;/li>
&lt;li>in the “&lt;a href="../extension-properties">Extension Properties&lt;/a>” section of the
service endpoint page, fill in the following fields:
&lt;ul>
&lt;li>Name: SE_PATH&lt;/li>
&lt;li>Value: &lt;code>/dpm/ui.savba.sk/home/ops&lt;/code> (this is an example, set the proper path)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>check if the tests are OK (it might take some hours for detecting the new
service endpoint) and then switch the production flag to &amp;ldquo;yes&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;h3 id="surl-value-for-srm">SURL value for SRM&lt;/h3>
&lt;p>The SURL value needed by the SRM monitoring probes is the following structure:&lt;/p>
&lt;p>&lt;code>srm://&amp;lt;hostname&amp;gt;:&amp;lt;port&amp;gt;/srm/managerv2?SFN=&amp;lt;GlueSAPath or GlueVOInfoPath&amp;gt;&lt;/code>&lt;/p>
&lt;p>For example:&lt;/p>
&lt;p>&lt;code>srm://ccsrm.in2p3.fr:8443/srm/managerv2?SFN=/pnfs/in2p3.fr/data/dteam/&lt;/code>&lt;/p>
&lt;ul>
&lt;li>As explained in previous sections, you can retrieve the port number from the
&lt;code>GlueServiceEndpoint&lt;/code> URL information.&lt;/li>
&lt;li>If your SE provides &lt;code>GlueSAPath&lt;/code> information, use that. To retrieve it:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ ldapsearch -x -LLL -H &amp;lt;ldap://sbdii01.ncg.ingrid.pt:2170&amp;gt; &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> -b &lt;span style="color:#4e9a06">&amp;#34;mds-vo-name=NCG-INGRID-PT,o=grid&amp;#34;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;(&amp;amp;(objectClass=GlueSA)(GlueSAAccessControlBaseRule=VO:ops))&amp;#39;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> GlueSAPath GlueChunkKey
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dn: &lt;span style="color:#000">GlueSALocalID&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>opsdisk:replica:online,GlueSEUniqueID&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>srm01.ncg.ingrid.pt,Mds-Vo-name&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>NCG-INGRID-PT,o&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>grid
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>GlueChunkKey: &lt;span style="color:#000">GlueSEUniqueID&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>srm01.ncg.ingrid.pt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>GlueSAPath: /gstore/t2others/ops
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>if your SE doesn&amp;rsquo;t provide &lt;code>GlueSAPath&lt;/code> information, use instead the
&lt;code>GlueVOInfoPath&lt;/code> one:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ ldapsearch -x -LLL -H &amp;lt;ldap://ntugrid5.phys.ntu.edu.tw:2170&amp;gt; &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> -b &lt;span style="color:#4e9a06">&amp;#34;Mds-Vo-name=TW-NTU-HEP,o=grid&amp;#34;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>&lt;span style="color:#000">objectClass&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>GlueVOInfo&lt;span style="color:#ce5c00;font-weight:bold">)(&lt;/span>&lt;span style="color:#000">GlueVOInfoAccessControlBaseRule&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>VO:ops&lt;span style="color:#ce5c00;font-weight:bold">))&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> GlueVOInfoLocalID GlueChunkKey
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dn: &lt;span style="color:#000">GlueVOInfoLocalID&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>ops:SRR,GlueSALocalID&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>SRR:SR:replica:*****,GlueSEUniqueID&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>ntugrid6.phys.ntu.edu.tw,Mds-Vo-name&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>TW-NTU-HEP,o&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>grid
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>GlueVOInfoPath: /dpm/phys.ntu.edu.tw/home/ops
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>GlueChunkKey: &lt;span style="color:#000">GlueSALocalID&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>SRR:SR:replica:*****
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>GlueChunkKey: &lt;span style="color:#000">GlueSEUniqueID&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>ntugrid6.phys.ntu.edu.tw
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>GlueVOInfoLocalID: ops:SRR
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dn: &lt;span style="color:#000">GlueVOInfoLocalID&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>ops:data01,GlueSALocalID&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>data01:replica:online,GlueSEUniqueID&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>ntugrid6.phys.ntu.edu.tw,Mds-Vo-name&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>TW-NTU-HEP,o&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>grid
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>GlueVOInfoPath: /dpm/phys.ntu.edu.tw/home/ops
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>GlueChunkKey: &lt;span style="color:#000">GlueSALocalID&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>data01:replica:online
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>GlueChunkKey: &lt;span style="color:#000">GlueSEUniqueID&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>ntugrid6.phys.ntu.edu.tw
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>GlueVOInfoLocalID: ops:data01
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Pay attention to use the storage path for the ops VO&lt;/li>
&lt;li>On GOCDB, in the “&lt;a href="../extension-properties">Extension Properties&lt;/a>” section of
the SRM service endpoint page, fill in the following fields:
&lt;ul>
&lt;li>Name: SURL&lt;/li>
&lt;li>Value: the actual SURL value, for example:
&lt;code>srm://srm01.ncg.ingrid.pt:8444/srm/managerv2?SFN=/gstore/t2others/ops&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Internal: Downtimes</title><link>/internal/configuration-database/downtimes/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/downtimes/</guid><description>
&lt;h2 id="definition">Definition&lt;/h2>
&lt;p>A downtime is a period of time for which a service is declared to be inoperable.
Downtimes may be scheduled (e.g. for software/hardware upgrades), or unscheduled
(e.g. power outages). The Configuration Database stores the following
information about downtimes (non exhaustive list):&lt;/p>
&lt;ul>
&lt;li>The downtime classification (Scheduled or unscheduled)&lt;/li>
&lt;li>The severity of the downtime&lt;/li>
&lt;li>The date at which the downtime was added&lt;/li>
&lt;li>The start and end of the downtime period&lt;/li>
&lt;li>A description of the downtime&lt;/li>
&lt;li>The entities affected by the downtime&lt;/li>
&lt;/ul>
&lt;h2 id="manipulating-downtimes">Manipulating downtimes&lt;/h2>
&lt;h3 id="viewing-downtimes">Viewing downtimes&lt;/h3>
&lt;p>There are different pages in the Configuration Database where downtimes are
listed:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Active &amp;amp; Imminent&lt;/strong>, linked from the main menu, that allows users to see
currently active downtimes and downtimes planned in the coming weeks.&lt;/li>
&lt;li>&lt;strong>Downtime Calendar&lt;/strong>, linked from the main menu, that allows users to view
and filter all downtimes.&lt;/li>
&lt;li>&lt;strong>Site details&lt;/strong>, where all the downtimes associated to the site are listed&lt;/li>
&lt;li>&lt;strong>Service endpoint details&lt;/strong>, where all the downtimes associated to the
service endpoint are listed.&lt;/li>
&lt;li>&lt;strong>Service group details&lt;/strong>, where all the downtimes associated to the service
group are listed.&lt;/li>
&lt;/ul>
&lt;p>Each downtime has its own page providing details, accessible by clicking on the
&lt;code>Downtime Id&lt;/code> link or similar in downtime listing pages.&lt;/p>
&lt;h3 id="subscribing-to-downtimes">Subscribing to downtimes&lt;/h3>
&lt;p>The &lt;a href="https://operations-portal.egi.eu/">EGI Operations Portal&lt;/a> provides a
publicly-accessible page allowing to view and filter downtimes:
&lt;a href="https://operations-portal.egi.eu/downtimes/a/timeline">Operations Portal&lt;/a>.&lt;/p>
&lt;p>Authenticated users can
&lt;a href="https://operations-portal.egi.eu/downtimes/subscription">subscribe to downtimes&lt;/a>
affecting sites selected using a filter. The downtimes notifications can be sent
by email, RSS and iCal, allowing to easily integrate with your calendar.&lt;/p>
&lt;h3 id="adding-downtimes">Adding downtimes&lt;/h3>
&lt;p>Provided you have proper permissions (check the
&lt;a href="../users-roles/managing-roles/#permissions-associated-to-roles">permissions matrix&lt;/a>
section), you can add a downtime by clicking on the &lt;code>Add Downtime&lt;/code> link in the
sidebar.&lt;/p>
&lt;p>This is done in 2 steps:&lt;/p>
&lt;ol>
&lt;li>Enter downtime information&lt;/li>
&lt;li>Specify the full list of impacted services in case there is more than one or
select an site to select all the sites associated services.&lt;/li>
&lt;/ol>
&lt;h4 id="please-note">Please note&lt;/h4>
&lt;ul>
&lt;li>All dates have to be entered in UTC or using the Site Timezone.&lt;/li>
&lt;li>A downtime can be retrospectively added if its &lt;em>start date&lt;/em> is less than 48h
in the past (giving a 2 day window to add).&lt;/li>
&lt;li>downtime classification (scheduled/unscheduled) is determined automatically
(see &lt;a href="#scheduled-or-unscheduled">Scheduled or unscheduled&lt;/a> section)&lt;/li>
&lt;/ul>
&lt;h3 id="editing-downtime-information">Editing downtime information&lt;/h3>
&lt;ul>
&lt;li>To edit a downtime, simply click the &lt;code>edit&lt;/code> link on top of the downtime&amp;rsquo;s
details page.&lt;/li>
&lt;li>A downtime can be retrospectively updated if its &lt;em>start date&lt;/em> is less than 48h
in the past (giving a 2 day window to modify).&lt;/li>
&lt;li>Note there are limitations to downtime editing, especially if it has already
started, or is due to start in the next 24hrs or is finished. See
&lt;a href="#downtime-shortening-and-extension">downtime shortening and extension&lt;/a>
section for more details.&lt;/li>
&lt;/ul>
&lt;h3 id="removing-downtimes">Removing downtimes&lt;/h3>
&lt;p>To delete a downtime, simply click the &lt;code>delete&lt;/code> link on top of the downtime&amp;rsquo;s
details page. For integrity reasons, it is only possible to remove downtimes
that have not started.&lt;/p>
&lt;h2 id="good-practices-and-further-understanding">Good practices and further understanding&lt;/h2>
&lt;h3 id="scheduled-or-unscheduled">Scheduled or unscheduled&lt;/h3>
&lt;p>Depending on the planning of the intervention, downtimes can be:&lt;/p>
&lt;ul>
&lt;li>&lt;code>Scheduled&lt;/code>: planned and agreed in advance&lt;/li>
&lt;li>&lt;code>Unscheduled&lt;/code>: planned or unplanned, usually triggered by an unexpected
failure or at a short term notice&lt;/li>
&lt;/ul>
&lt;p>EGI defines precise rules about what should be declared as scheduled or
unscheduled, based on &lt;em>how long in advance&lt;/em> the downtime is declared. These
rules are described in
&lt;a href="../../../providers/operations-manuals/man02_service_intervention_management">MAN02 Service intervention management&lt;/a>
and are enforced as follows:&lt;/p>
&lt;ul>
&lt;li>All downtimes declared less than 24h in advance will be automatically
classified as &lt;code>UNSCHEDULED&lt;/code>&lt;/li>
&lt;li>All other downtimes will be classified as &lt;code>SCHEDULED&lt;/code>&lt;/li>
&lt;/ul>
&lt;h4 id="notes">Notes&lt;/h4>
&lt;ul>
&lt;li>A downtime can be retrospectively declared and/or updated if its &lt;em>start date&lt;/em>
is less than 48h in the past (giving a 2 day window to add/modify).&lt;/li>
&lt;li>Although 24h in advance is enough for the downtime to be classified as
&lt;code>SCHEDULED&lt;/code>, it is good practice to declare it at least 5 working days before
it starts.&lt;/li>
&lt;/ul>
&lt;h3 id="warning-or-outage">WARNING or OUTAGE?&lt;/h3>
&lt;p>When declaring a downtime, you will be presented the choice of a &amp;ldquo;severity&amp;rdquo;,
which can be either &lt;code>WARNING&lt;/code> or &lt;code>OUTAGE&lt;/code>. Please consider the following
definitions:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>WARNING&lt;/code> means the resource is considered available, but the quality of
service might be degraded. Such downtimes generate notifications, but are not
taken into account by monitoring and availability calculation tools. In case
of a service failure during the &lt;code>WARNING&lt;/code> period an &lt;code>OUTAGE&lt;/code> downtime has to
be declared, cancelling the rest of the &lt;code>WARNING&lt;/code> downtime.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>OUTAGE&lt;/code> means the resource is considered as unavailable. Such downtimes will
be considered as &lt;code>in maintenance&lt;/code> by monitoring and availability calculation
tools.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="downtime-shortening-and-extension">Downtime shortening and extension&lt;/h3>
&lt;p>Limitation rules to downtime extensions are enforced as follows:&lt;/p>
&lt;ul>
&lt;li>Scheduled downtimes due to start in 24 hours cannot be edited in any way, but
can be deleted.&lt;/li>
&lt;li>Other downtimes that have not yet started can be edit and deleted.
&lt;ul>
&lt;li>They can be shortened or moved, i.e. They can be edited such that:
&lt;ul>
&lt;li>Both start and end time are still in the future&lt;/li>
&lt;li>The duration remains the same or is decreased&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Ongoing downtimes can not be deleted.&lt;/li>
&lt;li>A downtime cannot be edited once it has finished, nor can a new downtime be
added more than 48 hours into the past.&lt;/li>
&lt;/ul>
&lt;p>If for any reason a downtime already declared needs to be extended, the
procedure is to add another adjacent downtime, before or after.&lt;/p></description></item><item><title>Internal: Extension Properties</title><link>/internal/configuration-database/extension-properties/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/extension-properties/</guid><description>
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;ul>
&lt;li>Sites, Services, service endpoints, and Service Groups can be extended by
adding custom key-value pairs (this follows the GLUE2 extensibility
mechanism).&lt;/li>
&lt;li>Extension properties address a number of use cases, such as filtering Sites
and/or Services that define particular properties.&lt;/li>
&lt;li>Selected methods in the Configuration Database API support the &amp;rsquo;extensions'
URL parameter. This parameter is used to filter resources according to the
extensions they define (described below).&lt;/li>
&lt;li>Properties are rendered in the XML results of the Site/Service/ServiceGroup
using the &amp;ldquo;EXTENSIONS&amp;rdquo; XML element, for an example see a
&lt;a href="https://wiki.egi.eu/wiki/GOCDB/PI/get_service_endpoint_method">sample output from get_service_endpoint&lt;/a>(link
to old EGI Wiki)&lt;/li>
&lt;li>Note, anyone with permissions over the target entity can add extension
properties to that object.&lt;/li>
&lt;li>This allows &amp;lsquo;Folksonomy&amp;rsquo; building: &amp;lsquo;a user-generated system of classifying and
organizing content into different categories by the use of metadata such as
electronic tags&amp;rsquo;&lt;/li>
&lt;li>A number of use cases can be addressed; e.g. filtering Sites that support a
specific property, e.g. ‘P4U_Pilot_Cloud_Wall’&lt;/li>
&lt;li>Key-value pairs prevent certain characters from being used in their values.
This includes the equals and opening/closing parenthesis chars ‘=()’. This is
to simplify lexical parsing of the query. In addition, to guard against
cross-site scripting attacks, the quote, double quote, semi-colon and back
tick chars are also not allowed.&lt;/li>
&lt;li>Keys must be unique for a given site, service, or service endpoint, or service
group.&lt;/li>
&lt;/ul>
&lt;h3 id="extension-properties-in-the-pi">Extension Properties in the PI&lt;/h3>
&lt;ul>
&lt;li>Selected PI methods allow results to be filtered by extension properties via
the &amp;rsquo;extensions&amp;rsquo; PI parameter.&lt;/li>
&lt;li>Supported methods include: get_site, get_site_list, get_service_endpoints and
get_service_group, get_downtime, get_downtime_nested, get_site_list.&lt;/li>
&lt;li>For individual method support please refer to the PI documentation:
&lt;a href="https://wiki.egi.eu/wiki/GOCDB/PI/Technical_Documentation">GOCDB/PI/Technical Documentation&lt;/a>
(link to old EGI Wiki)&lt;/li>
&lt;li>The format of the &amp;rsquo;extensions&amp;rsquo; PI parameter is one or more (key=value) pairs
enclosed in brackets.
&lt;ul>
&lt;li>The value part of a (k=v) pair can be ommitted if filtering by value is not
required (i.e. &amp;lsquo;(somekey=)&amp;rsquo; means select all resources that define the
&amp;lsquo;somekey&amp;rsquo; property with any value.&lt;/li>
&lt;li>(k=v) pairs can be optionally prefixed with one of following operators: AND,
OR, NOT.&lt;/li>
&lt;li>If no operator is specified before the FIRST (k=v) pair, then AND is
assumed.&lt;/li>
&lt;li>A single operator applies to ALL the (k=v) pairs to the right of the
operator until another operator is encountered.&lt;/li>
&lt;li>An AND forms a logical conjunction with any previously specified conditions.&lt;/li>
&lt;li>An OR forms a logical disjunction with any previously specified conditions.&lt;/li>
&lt;li>A NOT forms a logical conjunction with any previously specified conditions
(it can be read as &amp;lsquo;AND NOT&amp;rsquo;)&lt;/li>
&lt;li>Because an OR always forms a logical disjunction with any previously
specified conditions, you can’t OR against a group occurring to the right
that contains multiple k=v pairs e.g. the following is not supported (if
there is sufficient demand, it could be considered for a future
enhancement): - ((k=v1)AND(k=v2)) OR ((k=v3)AND(k=v4))&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Examples:&lt;/p>
&lt;ul>
&lt;li>Eg (note no leading AND):
&lt;ul>
&lt;li>(key1=val)(key2=va2)OR(key3=val3)(key4=val4)NOT(key5=val5)(key6=val6) is
expanded to:&lt;/li>
&lt;li>AND(key1=val)AND(key2=va2)OR(key3=val3)OR(key4=val4)NOT(key5=val5)NOT(key6=val6)
which is interpreted as:&lt;/li>
&lt;li>(((key1=val)AND(key2=va2))OR(key3=val3)) OR(key4=val4) NOT(key5=val5)
NOT(key6=val6)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Eg:
&lt;ul>
&lt;li>(VObing=true)AND(VObaz=true)AND(VObar=true)OR(s1p1=v1) is equal to:&lt;/li>
&lt;li>((VObing=true)AND(VObaz=true)AND(VObar=true))OR(s1p1=v1)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Eg:
&lt;ul>
&lt;li>(VO=food)OR(VO2=bar)AND(s4p1=v1) is equal to:&lt;/li>
&lt;li>((VO=food)OR(VO2=bar))AND(s4p1=v1)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Eg:
&lt;ul>
&lt;li>(VO=food)(s4p1=v1)OR(VObar=true)(VObaz=true) is equal to:&lt;/li>
&lt;li>((VO=food)AND(s4p1=v1))OR(VObar=true)OR(VObaz=true)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Eg:
&lt;ul>
&lt;li>(VO=food)(s4p1=v1)OR(VObaz=true)AND(VObling=true) is equal to:&lt;/li>
&lt;li>(((VO=food)AND(s4p1=v1))OR(VObaz=true))AND(VObling=true)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>To return all sites that define VO with a value of Alice:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>?method=get_site&lt;span style="color:#a40000">&amp;amp;&lt;/span>extensions=(VO=Alice)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Use no value to define a wildcard search, i.e. all sites that define the VO
property regardless of value:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>?method=get_site&lt;span style="color:#a40000">&amp;amp;&lt;/span>extensions=(VO=)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>NOTE: From version 5.7 (Autumn/Winter 2016) keys must be unique for a given
site, service, or service endpoint, or service group. The following section of
documentation has not yet been changed to reflect this.&lt;/p>
&lt;p>Extensions also supports OR/AND/NOT operators. This can be used to search
against multiple key values eg:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>?method=get_site&lt;span style="color:#a40000">&amp;amp;&lt;/span>extensions=AND(VO=Alice)(VO=Atlas)(VO=LHCB)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>These can be used together:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>?method=get_site&lt;span style="color:#a40000">&amp;amp;&lt;/span>extensions=AND(VO=Alice)(VO=Atlas)NOT(VO=LHCB)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>?method= get_service_endpoint&lt;span style="color:#a40000">&amp;amp;&lt;/span>extensions=(CPU_HS01_HOUR=1)OR(CPU_HS02_HOUR=2)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>When no operator is specified the default is AND, therefore the following:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>?method= get_service_endpoint&lt;span style="color:#a40000">&amp;amp;&lt;/span>extensions=(CPU_HS01_HOUR=1)(CPU_HS02_HOUR=2)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Is the same as:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>?method= get_service_endpoint&lt;span style="color:#a40000">&amp;amp;&lt;/span>extensions=AND(CPU_HS01_HOUR=1)(CPU_HS02_HOUR=2)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The extensions parameter can also be used in conjunction with the existing
parameters previously supported:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>?method=get_site&lt;span style="color:#a40000">&amp;amp;&lt;/span>extensions=(VO=Alice)NOT(VO=LHCB)&lt;span style="color:#a40000">&amp;amp;&lt;/span>scope=EGI&lt;span style="color:#a40000">&amp;amp;&lt;/span>roc=NGI_UK
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;em>site_extensions&lt;/em> and &lt;em>service_extensions&lt;/em> can also be used on the
&lt;em>get_downtime&lt;/em> and &lt;em>get_downtime_nested_services&lt;/em> methods using same logic
described above. Note, the &lt;em>EXTENSIONS&lt;/em> element is not rendered in the XML
output for these queries.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>?method=get_downtime_nested_services&lt;span style="color:#a40000">&amp;amp;&lt;/span>site_extensions=(eg.2=val.2)&lt;span style="color:#a40000">&amp;amp;&lt;/span>service_extensions=(eg.2=)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>?method=get_downtime&lt;span style="color:#a40000">&amp;amp;&lt;/span>site_extensions=(eg.2=val.2)&lt;span style="color:#a40000">&amp;amp;&lt;/span>service_extensions=(eg.2=)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="standard-extension-properties">Standard Extension Properties&lt;/h3>
&lt;h4 id="hostdn">HostDN&lt;/h4>
&lt;p>For EGI Services, the Standard Extension property &amp;ldquo;HostDN&amp;rdquo; has been defined to
allow the fetching the DNs of multiple hosts behind a load balanced service from
the endpoint properties of a single GOCDB Service, rather than creating multiple
GOCDB Services with different host DNs.&lt;/p>
&lt;h4 id="recommended-use">Recommended Use&lt;/h4>
&lt;p>To supply multiple or alternate DN(s) for a service, for example of the multiple
hosts supporting a single service entry, the Service Extension Property
(hereafter Ext) &amp;ldquo;HostDN&amp;rdquo; SHOULD be used. If Ext &amp;ldquo;HostDN&amp;rdquo; is present it MUST
contain one or more x.509 DN values. Multiple values MUST be delimited by
enclosing each within &amp;ldquo;&amp;lt;&amp;gt;&amp;rdquo; characters. If Ext &amp;ldquo;HostDN&amp;rdquo; is present, the Service
&amp;ldquo;Host DN&amp;rdquo; SHOULD contain the x.509 SubjectAltName used in the X509
certificate(s) presented by the hosts identified by the Ext &amp;ldquo;HostDN&amp;rdquo; values.&lt;/p></description></item><item><title>Internal: Managing NGIs entities</title><link>/internal/configuration-database/ngis/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/ngis/</guid><description>
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>An NGI forms a grouping of Sites in EGI Configuration Database. The
Configuration Database stores the following information about these groups. The
main page listing groups actually shows NGIs/ROCs, and is available from &lt;strong>&amp;ldquo;List
of NGIs/ROCs and associated contacts&amp;rdquo;&lt;/strong>, linked from the main menu.&lt;/p>
&lt;p>Each NGI has its own listing page, accessible by clicking on the &amp;ldquo;view&amp;rdquo; link in
group listing pages. A group details page shows users with a role on that group,
as well as member sites and associated contacts and roles.&lt;/p>
&lt;h2 id="adding-ngis">Adding NGIs&lt;/h2>
&lt;p>Adding groups is not possible through the Input System web interface. If you
want to start the registration process of a new NGI, please follow the procedure
described on:&lt;/p>
&lt;blockquote>
&lt;p>&lt;a href="https://go.egi.eu/proc02">PROC02: Operations Centre creation&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>Integration of the new group in the EGI Configuration Database is part of the
procedure but has to be done by the Configuration Database admins.&lt;/p>
&lt;h2 id="editing-groups">Editing Groups&lt;/h2>
&lt;p>To edit a group, simply click on the &amp;ldquo;edit&amp;rdquo; link at the top of the group&amp;rsquo;s
details page.&lt;/p>
&lt;h2 id="deleting-groups">Deleting Groups&lt;/h2>
&lt;p>This operation is not allowed.&lt;/p></description></item><item><title>Internal: NGI Core Services</title><link>/internal/configuration-database/ngi-core-services/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/ngi-core-services/</guid><description>
&lt;h2 id="ngi-core-services">NGI Core Services&lt;/h2>
&lt;p>NGIs can register a number of ‘NGI-Core’ services in the Configuration Database.
A core NGI service is one that is used to calculate the availability and
reliability of the NGI. These services fall under the responsibility of the NGI
and provide production quality (no testing instances). NGIs can distinguish/flag
their core services from their other (non-core) services using one of two ways
(see A and B below).&lt;/p>
&lt;h3 id="core-service-requirements">Core Service Requirements&lt;/h3>
&lt;p>The service instance MUST:&lt;/p>
&lt;ul>
&lt;li>Be flagged as ‘Production’ (see
&lt;a href="../service-entities/#production-flag-tf">Production Flag&lt;/a>)&lt;/li>
&lt;li>Not be flagged as ‘Beta’ (see &lt;a href="../service-entities/#beta-flag-tf">Beta Flag&lt;/a>)&lt;/li>
&lt;li>Monitored flag set to true (see
&lt;a href="../service-entities/#monitoring-flag-tf">Monitored Flag&lt;/a>)&lt;/li>
&lt;li>Be hosted under a ‘NGI’ scoped Site that has a certification status of
‘Certified’&lt;/li>
&lt;/ul>
&lt;h3 id="required-service-types">Required Service Types&lt;/h3>
&lt;p>The following service types are mandatory to support the central operations and
all NGIs in the EGI scope should define instances of these services:&lt;/p>
&lt;ul>
&lt;li>emi.ARGUS (Mandatory) (NGI ARGUS)&lt;/li>
&lt;li>Top-BDII (Mandatory)&lt;/li>
&lt;/ul>
&lt;p>Other Mandatory services, depending on middleware deployed by sites under NGI
responsibility, are the following:&lt;/p>
&lt;ul>
&lt;li>MyProxy&lt;/li>
&lt;li>VOMS&lt;/li>
&lt;/ul>
&lt;p>NGIs should also register their custom core services like accounting, helpdesk
if provided.&lt;/p>
&lt;h3 id="registering-ngi-core-services">Registering NGI Core Services&lt;/h3>
&lt;p>NGI core services can be grouped/flagged in one of two ways:&lt;/p>
&lt;ul>
&lt;li>A) By creating a ‘&lt;strong>NGI_XX_SERVICES’ Site&lt;/strong> and adding their core services
under this site. This site must be scoped as ‘NGI’ and define a certification
status of ‘Certified’.&lt;/li>
&lt;li>B) By creating a ‘&lt;strong>NGI_XX_SERVICES’ ServiceGroup&lt;/strong> and adding their core
services to this ServiceGroup.&lt;/li>
&lt;/ul>
&lt;p>It is important that these core service Sites/ServiceGroups adhere to the
‘NGI_XX_SERVICES’ naming scheme. The list of existing Service Groups is
available on
&lt;a href="https://goc.egi.eu/portal/index.php?Page_Type=Service_Groups">GOCDB&lt;/a>.&lt;/p></description></item><item><title>Internal: Scoping</title><link>/internal/configuration-database/scopes/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/scopes/</guid><description>
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;ul>
&lt;li>Scope tags are used to group entities such as &lt;code>Sites&lt;/code>, &lt;code>Services&lt;/code> and
&lt;code>ServiceGroups&lt;/code> into flexible categories. A single entity can define multiple
scope tags, allowing the resource to be associated with different categories
without duplication of information. This is essential to maintain the
integrity of topology information across different infrastructures and
projects.&lt;/li>
&lt;li>The Configuration Database admins control which scope tags are made available
to avoid proliferation of tags (user defined tags are reserved for the
extensibility mechanism).&lt;/li>
&lt;li>As an example, a site’s scope list could aggregate all of the scopes defined
by its child services. In doing this, the site scope list becomes a union of
its service scopes plus any other site specific tags defined by the site.&lt;/li>
&lt;li>By defining scope tags, resources can be ‘filtered-by-scope-tag’ when querying
for data in the PI using the ‘scope’ and ‘scope_match’ parameters, see
&lt;a href="https://wiki.egi.eu/wiki/GOCDB/PI/Technical_Documentation">GOCDB Programmatic Interface (GOCDB-PI)&lt;/a>(link
to old EGI Wiki) for details.&lt;/li>
&lt;/ul>
&lt;h2 id="clear-separation-of-concerns">Clear Separation of Concerns&lt;/h2>
&lt;p>It is important to understand that scopes and Projects are distinct:&lt;/p>
&lt;ul>
&lt;li>Projects are used to cascade roles and permissions over child objects&lt;/li>
&lt;li>Scope tags are used to filter resources into flexible categories/groupings&lt;/li>
&lt;li>Scope tags can be created to mirror the projects. For example, assuming two
projects (e.g. EGI.eu and EUDAT), two corresponding tags may be defined.&lt;/li>
&lt;li>In addition, it is also possible define additional scopes for finer grained
resource filtering e.g. ‘SubGroupX’ and ‘EGI_TEST’.&lt;/li>
&lt;li>The key benefit: A clear separation of concerns between cascading permissions
and resource filtering.&lt;/li>
&lt;/ul>
&lt;h2 id="egi-scopes">EGI Scopes&lt;/h2>
&lt;ul>
&lt;li>To make a &lt;code>Site&lt;/code>, &lt;code>Service&lt;/code> or &lt;code>ServiceGroup&lt;/code> visible to EGI, the resource&amp;rsquo;s
&amp;lsquo;EGI&amp;rsquo; scope tag checkbox must be ticked. EGI scoped resources are exposed to
the central operational tools for monitoring and will appear in the central
operations portal.&lt;/li>
&lt;li>&lt;strong>Un-ticking the EGI checkbox&lt;/strong> and selecting the &amp;lsquo;Local&amp;rsquo; scope makes the
selected object invisible to EGI; it will be hidden from the central operation
tools (it will not show in the central dashboard and it will not be monitored
centrally). This can be useful if you wish to hide certain parts of your
infrastructure from EGI but still have the information stored and accessed
from the same Configuration Database instance.&lt;/li>
&lt;li>A use-case for non-EGI sites/services is to hide those entities from central
EGI tools, but to include those sites/services for use by regional versions of
the operational tools (such as regional monitoring).&lt;/li>
&lt;li>Note that exposing a site / service endpoint as EGI does not override the
production status or certification status fields. For example if a site isn&amp;rsquo;t
marked as production it won&amp;rsquo;t be monitored centrally even if it&amp;rsquo;s marked as
visible to EGI.&lt;/li>
&lt;li>You can submit your request for new scope tags via
&lt;a href="../../helpdesk">EGI Helpdesk&lt;/a> to the &amp;ldquo;Configuration and Topology Database
(GOCDB)&amp;rdquo; support unit.&lt;/li>
&lt;/ul>
&lt;h2 id="reserved-scope-tags">Reserved Scope Tags&lt;/h2>
&lt;ul>
&lt;li>Some tags may be &amp;lsquo;Reserved&amp;rsquo; which means they are protected - they are used to
restrict tag usage and prevent non-authorised sites/services from using tags
not intended for them.&lt;/li>
&lt;li>Reserved tags are initially assigned to resources by the Configuration
Database admins, and can then be optionally inherited by child resources (tags
can be initially assigned to NGIs, Sites, Services and ServiceGroups).&lt;/li>
&lt;li>When creating a new child resource (e.g. a child Site or child Service), the
scopes that are assigned to the parent are automatically inherited and
assigned to the child.&lt;/li>
&lt;li>Reserved tags assigned to a resource are optional and can be de-selected if
required.&lt;/li>
&lt;li>Users can reapply Reserved tags to a resource ONLY if the tag can be inherited
from the parent Scoped Entity (parents include NGIs/Sites).
&lt;ul>
&lt;li>For Sites: If a Reserved tag is removed from a Site, then the same tag is
also removed from all the child Services - a Service can&amp;rsquo;t have a reserved
tag that is not supported by its parent Site.&lt;/li>
&lt;li>For NGIs: If a Reserved tag is removed from an NGI, then the same tag is NOT
removed from all the child Sites - this is intentionally different from the
&lt;code>Site&lt;/code>-&amp;gt;&lt;code>Service&lt;/code> relationship.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>To request a reserved scope tag, &lt;strong>an approval is required from the operators
of the relevant resources&lt;/strong>. Details on who to contact are listed below. Once
authorisation is given, please contact the Configuration Database admins with
details of the approval (e.g. link to an &lt;a href="../../helpdesk">EGI Helpdesk&lt;/a> ticket
that approves the tag assignment).&lt;/li>
&lt;/ul>
&lt;h3 id="fedcloud-reserved-tag">FedCloud Reserved Tag&lt;/h3>
&lt;ul>
&lt;li>Tag for resources that contribute to the EGI Federated Cloud. To request this
tag, please contact the FedCloud operators / EGI Operations.&lt;/li>
&lt;/ul>
&lt;h3 id="elixir-reserved-tag">Elixir Reserved Tag&lt;/h3>
&lt;ul>
&lt;li>Tag for resources that contribute to the EGI Federated Cloud. To request this
tag, please contact the operators of the ‘ELIXIR’ NGI in the EGI Configuration
Database.&lt;/li>
&lt;/ul>
&lt;h3 id="wlcg-reserved-tags">WLCG Reserved Tags&lt;/h3>
&lt;ul>
&lt;li>A number of reserved scope tags have been defined for the WLCG:
&lt;ul>
&lt;li>The ‘tierN’ tags should be requested for WLCG sites that are defined in
REBUS (a management view of the WLCG infrastructure/sites). To request a
‘tierN’ tag, raise a ticket against the REBUS support unit in GGUS.&lt;/li>
&lt;li>For the experiment VO tags (alice, atlas, cms, lhcb), raise a ticket with
the relevant VO support unit.&lt;/li>
&lt;li>The wlcg tag is a generic catch-all tag for sites/services with either tierN
and VO tags and is used to gain an overall view of the WLCG infrastructure.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="sla-reserved-tag">SLA Reserved Tag&lt;/h3>
&lt;ul>
&lt;li>Entities covered by an EGI VO SLA
&lt;ul>
&lt;li>This Tag will only be applied at the request of EGI operations&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="eosccore-tag">EOSCCore Tag&lt;/h3>
&lt;ul>
&lt;li>Tag for resources that contribute to core services of the EOSC. To request
this tag, please raise an &lt;a href="../../helpdesk">EGI Helpdesk&lt;/a> ticket against the
Operations SU.&lt;/li>
&lt;/ul>
&lt;h3 id="egicore-tag">EGICore Tag&lt;/h3>
&lt;p>Tag for resources that are part of the EGI Core services. To request this tag,
please raise an &lt;a href="../../helpdesk">EGI Helpdesk&lt;/a> ticket against the Operations SU.&lt;/p></description></item><item><title>Internal: Service Entities</title><link>/internal/configuration-database/service-entities/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/service-entities/</guid><description>
&lt;h2 id="definition">Definition&lt;/h2>
&lt;p>A Service entity is formed by a hostname, a hosted service and a URL.&lt;/p>
&lt;p>The EGI Configuration Database stores the following information about Service
entities (non exhaustive list):&lt;/p>
&lt;ul>
&lt;li>The fully qualified hostname of the machine&lt;/li>
&lt;li>The hosted service (see &lt;code>ServiceTypes&lt;/code> below)&lt;/li>
&lt;li>The URL to reach the entities&lt;/li>
&lt;li>The IP address of the machine&lt;/li>
&lt;li>The machine&amp;rsquo;s host certificate DN&lt;/li>
&lt;li>A description of the node&lt;/li>
&lt;/ul>
&lt;p>As a machine can host many services, there can be many Service entities per
machine.&lt;/p>
&lt;h3 id="example">Example&lt;/h3>
&lt;p>The machine &lt;code>myhost.domain.org&lt;/code> runs a CE, an UI and a UnicoreX service. This
will show up in the EGI Configuration Database as 3 Service entities:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>fully qualified hostname&lt;/th>
&lt;th>ServiceType&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>myhost.domain.org&lt;/td>
&lt;td>CE&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>myhost.domain.org&lt;/td>
&lt;td>UI&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>myhost.domain.org&lt;/td>
&lt;td>unicore6.Gateway&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Note that a single host can also specify multiple services of the same
&lt;code>ServiceType&lt;/code>.&lt;/p>
&lt;h2 id="manipulating-service-entities">Manipulating Service entities&lt;/h2>
&lt;h3 id="viewing-service-entities">Viewing Service entities&lt;/h3>
&lt;p>There are different pages in GOCDB where Service entities are listed:&lt;/p>
&lt;ul>
&lt;li>A full Service entities
&lt;a href="https://goc.egi.eu/portal/index.php?Page_Type=Services">listing page&lt;/a>, that
shows a listing of all the entities in the database, with controls to page
through the listing. The table headers can be clicked to set the ordering.&lt;/li>
&lt;li>Site details page, see
&lt;a href="https://goc.egi.eu/portal/index.php?Page_Type=Site&amp;amp;id=335">GRIDOPS-GOCDB&lt;/a> for
an example, where all the Service entities belonging to this site are listed&lt;/li>
&lt;/ul>
&lt;p>Each Service entity also has its own listing page. By clicking the link to view
it, you can see all associated information.&lt;/p>
&lt;h3 id="adding-service-entities">Adding Service entities&lt;/h3>
&lt;p>Provided you have proper permissions (check the permissions matrix in the
Permissions_associated_to_roles section), you can add a Service entity by:&lt;/p>
&lt;ul>
&lt;li>clicking on the &lt;strong>Add a New Service&lt;/strong> link in the sidebar. Simply select
parent site, fill the form and validate.&lt;/li>
&lt;li>By clicking on the &lt;strong>Add Service&lt;/strong> link from a given site&amp;rsquo;s details page (the
link will only appear if you have proper permissions). This will lead you to
the same form as above.&lt;/li>
&lt;/ul>
&lt;h3 id="editing-service-entities-information">Editing Service entities information&lt;/h3>
&lt;p>The editing process will show you the same form as the adding process. To edit
Service entities, simply click the &amp;ldquo;&lt;strong>edit&lt;/strong>&amp;rdquo; link on top of the entities'
details page.&lt;/p>
&lt;h3 id="removing-a-service-entity-from-a-site">Removing a Service entity from a site&lt;/h3>
&lt;p>To delete a Service entity you have permissions on, simply click on the
&amp;ldquo;&lt;strong>delete&lt;/strong>&amp;rdquo; link on top of the entities&amp;rsquo; details page. The interface asks for
confirmation before proceeding.&lt;/p>
&lt;h2 id="service-endpoint-entities">Service Endpoint entities&lt;/h2>
&lt;p>A Service entity may optionally define Service Endpoint entities which model
network locations for different service functionalities that can&amp;rsquo;t be described
by the main &lt;code>ServiceType&lt;/code> and &lt;code>URL&lt;/code> alone.&lt;/p>
&lt;p>For example: The Service entity
&lt;a href="https://goc.egi.eu/portal/index.php?Page_Type=Service&amp;amp;id=4180">goc.egi.eu&lt;/a> (of
ServiceType egi.GOCDB) defines the following Service Endpoint entities:&lt;/p>
&lt;!-- markdownlint-disable no-bare-urls -->
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>URL&lt;/th>
&lt;th>Interface Name&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;a href="https://goc.egi.eu/portal/index.php?Page_Type=View_Service_Endpoint&amp;amp;id=6313">ProductionPortalInstance&lt;/a>&lt;/td>
&lt;td>&lt;a href="https://goc.egi.eu/portal">https://goc.egi.eu/portal&lt;/a>&lt;/td>
&lt;td>egi.GOCDB.Portal&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://goc.egi.eu/portal/index.php?Page_Type=View_Service_Endpoint&amp;amp;id=6314">Production PI base URL&lt;/a>&lt;/td>
&lt;td>&lt;a href="https://goc.egi.eu/gocdbpi">https://goc.egi.eu/gocdbpi&lt;/a>&lt;/td>
&lt;td>egi.GOCDB.PI&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;!-- markdownlint-enable no-bare-urls -->
&lt;h2 id="specific-service-entities-fields-and-their-impact">Specific Service entities fields and their impact&lt;/h2>
&lt;h3 id="beta-flag-tf">&amp;ldquo;beta&amp;rdquo; flag (t/f)&lt;/h3>
&lt;p>This indicates whether the Service entity is a beta service or not (part of the
staged rollout process).&lt;/p>
&lt;h3 id="host-dn">Host DN&lt;/h3>
&lt;p>This is the DN of the host certificate for the service. The format of the DN
follows that defined by the
&lt;a href="https://www.ogf.org/documents/GFD.225.pdf">OGF Interoperable Certificate Profile&lt;/a>
which restricts allowed chars to a &lt;code>PrintableString&lt;/code> that does NOT contain
characters that cannot be expressed in printable 7-bit ASCII. For a list of
allowed chars.&lt;/p>
&lt;p>To supply multiple or alternate DN(s) for a service, for example of the multiple
hosts supporting a single Service entity, see
&lt;a href="../extension-properties/#standard-extension-properties">strandard extension properties&lt;/a>.&lt;/p>
&lt;h3 id="production-flag-tf">&amp;ldquo;production&amp;rdquo; flag (t/f)&lt;/h3>
&lt;p>The Service entities&amp;rsquo; Production flag indicates if this service delivers a
production quality service to the infrastructure it belongs to (EGI).&lt;/p>
&lt;ul>
&lt;li>Non-production Service entities can be either Monitored or Not Monitored,
depending on the Administrator&amp;rsquo;s choice.&lt;/li>
&lt;li>Even if this flag is false, the service is still considered part of the EGI
and so shows up in the ROD dashboard.&lt;/li>
&lt;li>If true, then the Monitored flag must also be true: &lt;strong>All production resources
MUST be monitored&lt;/strong> (except if the &lt;code>ServiceType&lt;/code> is a &lt;code>VOMS&lt;/code> or &lt;code>emi.ARGUS&lt;/code>)&lt;/li>
&lt;li>This flag is not to be confused with &lt;strong>PRODUCTION_STATUS&lt;/strong>, which is a Site
level flag that shows if the site delivers to the production or Test
infrastructure.&lt;/li>
&lt;/ul>
&lt;h3 id="monitoring-flag-tf">&amp;ldquo;monitoring&amp;rdquo; flag (t/f)&lt;/h3>
&lt;p>This flag is taken into account by monitoring tools.&lt;/p>
&lt;ul>
&lt;li>Can only be set to &amp;ldquo;N&amp;rdquo; (false) if Production flag is also false.&lt;/li>
&lt;li>If set to &amp;ldquo;N&amp;rdquo; the entities won&amp;rsquo;t be tested.&lt;/li>
&lt;/ul>
&lt;h3 id="usage-of-production-and-monitored-flags-for-egi-service-entities">Usage of PRODUCTION and MONITORED flags for EGI Service entities&lt;/h3>
&lt;p>All production Service entities MUST be monitored (except for &lt;code>emi.ARGUS&lt;/code> and
&lt;code>VOMS&lt;/code> ServiceTypes).&lt;/p>
&lt;h4 id="production-and-monitored">Production and Monitored&lt;/h4>
&lt;ul>
&lt;li>Operations Dashboard: A failing test of production Service entities generates
an alarm in the ROD Operations Dashboard.&lt;/li>
&lt;li>Availability calculation: The Service entities test results are considered for
Availability computation (if and only if the &lt;code>ServiceType&lt;/code> associated to the
entities is one of those included in Availability computation)&lt;/li>
&lt;/ul>
&lt;h4 id="non-production-and-monitored-yesno">Non-Production and Monitored: YES/NO&lt;/h4>
&lt;ul>
&lt;li>Availability calculation: If Monitored is set to &lt;code>YES&lt;/code>, the
&lt;a href="../../monitoring">Monitoring Service&lt;/a> will test the Service entity, but the
test results are ignored by the Availability Computation Engine (ACE).&lt;/li>
&lt;li>Availability calculation: Non-production Service entities are not considered
for site availability calculations.&lt;/li>
&lt;li>Operations Dashboard: If Monitored is set &lt;code>NO&lt;/code>, the Service entities is
ignored by the &lt;a href="../../monitoring">Monitoring Service&lt;/a>, and no alarms are
raised in the Operations Dashboard in case of &lt;code>CRITICAL&lt;/code> failure.&lt;/li>
&lt;li>Monitoring tests for non-production Service entities generate alarms into the
ROD Operations Dashboard in case of &lt;code>CRITICAL&lt;/code> failure of the test. These
alarms are visible in the Operations Dashboard and are tagged as &amp;ldquo;non
production&amp;rdquo;.&lt;/li>
&lt;/ul></description></item><item><title>Internal: Service groups</title><link>/internal/configuration-database/service-groups/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/service-groups/</guid><description>
&lt;h2 id="service-groups">Service Groups&lt;/h2>
&lt;p>A service group is an arbitrary grouping of existing service endpoints that can
be distributed across different physical sites and users that belong to the SG
(SGs were previously known as &amp;lsquo;Virtual Sites&amp;rsquo;):&lt;/p>
&lt;ul>
&lt;li>Each service that appears in a group &lt;strong>must already exist and be hosted by a
physical site&lt;/strong>.&lt;/li>
&lt;li>A service group role does &lt;strong>not extend any permissions&lt;/strong> over its child
services. This means that you cannot declare a downtime on the services that
you group together or modify the service attributes.&lt;/li>
&lt;li>Any GOCDB user can create their own service group and as the &amp;lsquo;Service Group
Administator&amp;rsquo; you can control subsequent user membership requests to the SG
(everything is logged, including who created the service group).&lt;/li>
&lt;li>GOCDB users can request to join an existing service group by finding the
target SG and requesting a role on that SG.&lt;/li>
&lt;li>Service groups are typically used for monitoring a particular collection of
services and/or users using the GOCDB &amp;lsquo;get_service_group&amp;rsquo; and
&amp;lsquo;get_service_group_role&amp;rsquo; PI methods.&lt;/li>
&lt;li>SG memebers can be listed using the get_service_group_role PI method.&lt;/li>
&lt;li>PI doc:
&lt;ul>
&lt;li>&lt;a href="https://wiki.egi.eu/wiki/GOCDB/PI/get_service_group">get_service_group&lt;/a>(link
to old EGI Wiki)&lt;/li>
&lt;li>&lt;a href="https://wiki.egi.eu/wiki/GOCDB/PI/get_service_group_role">get_service_group_role&lt;/a>(link
to old EGI Wiki)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>If you have any further use-cases or suggestions, please submit a GGUS ticket.&lt;/li>
&lt;/ul></description></item><item><title>Internal: Service Types</title><link>/internal/configuration-database/service-types/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/service-types/</guid><description>
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>In the EGI Configuration Database, a service type is a technology used to
provide a service. Each service endpoint is associated with a service type.
Service types are pieces of software while service endpoints are a particular
instance of that software running in a certain context.&lt;/p>
&lt;h2 id="service-type-naming-scheme">Service Type Naming Scheme&lt;/h2>
&lt;ul>
&lt;li>Service types include grid and cloud middleware, and operational services.&lt;/li>
&lt;li>This attribute corresponds to the Glue2 &lt;code>Service.Type&lt;/code> attribute and is
defined as the &amp;ldquo;Type of service according to a namespace based classification
(the namespace MAY be related to a middleware name, an organisation or other
concepts)&amp;rdquo;.&lt;/li>
&lt;li>The naming scheme for new service types therefore follow a reverse DNS style
syntax, usually naming the technology provider/project followed by technology
type in lowercase, i.e. ‘provider.type’ (e.g. &lt;code>org.openstack.swift&lt;/code>).&lt;/li>
&lt;li>Please note, this syntax does not necessarily indicate ownership, the main
objective is to avoid name clashes between services. For example, different
projects may have similar services but these may be modified/customised just
enough to merit a different prefix or service type name.&lt;/li>
&lt;li>Glue2 defines a service type list at:
&lt;ul>
&lt;li>&lt;a href="https://github.com/OGF-GLUE/Enumerations">Glue2 Enums&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/OGF-GLUE/Enumerations/blob/master/ServiceType_t.csv">Glue2 service types&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>The Glue2 and GOCDB recommendation is to use lowercase (legacy enum values do
exist that use camelCase).&lt;/li>
&lt;/ul>
&lt;p>These service types are used at some grid sites within EGI but aren&amp;rsquo;t EGI
operational tools or a part of the core middleware distributions.&lt;/p>
&lt;h2 id="service-type-list">Service Type List&lt;/h2>
&lt;p>To request a new service type, please submit a request for a new service type
(see the section &amp;ldquo;Adding a new service type&amp;rdquo;).&lt;/p>
&lt;p>In the following section there is the list of &amp;ldquo;middleware agnostic&amp;rdquo; service
types. You can obtain the whole list of service types by browsing
&lt;a href="https://poem.egi.eu/ui/public_servicetypes">Poem&lt;/a>, or by launching the
following query to the GOCDBPI interface:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_types">get_service_type&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="operational-components-middleware-agnostic">Operational Components (middleware agnostic)&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=Site-BDII">Site-BDII&lt;/a>:
(Site service) This service collects and publishes site&amp;rsquo;s data for the
Information System. All grid sites MUST install one Site-BDII. For cloud sites
eu.egi.cloud.information.bdii MUST be installed.&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=Top-BDII">Top-BDII&lt;/a>:
(Central service) The &amp;ldquo;top-level BDII&amp;rdquo;. These collect and publish the data
from site-BDIIs. Only a few instances per region are required.&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=MyProxy">MyProxy&lt;/a>:
[Central service] MyProxy is part of the authentication and authorization
system. Often installed by sites installing the WMS service.&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=egi.APELRepository">egi.APELRepository&lt;/a>:
(Central service) The central APEL repository&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=egi.AccountingPortal">egi.AccountingPortal&lt;/a>:
(Central service) The central accounting portal&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=egi.GGUS">egi.GGUS&lt;/a>:
(Central service) The central GGUS&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=egi.GOCDB">egi.GOCDB&lt;/a>:
(Central service) The central GOCDB&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=egi.MSGBroker">egi.MSGBroker&lt;/a>:
(Central service) The central message broker&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=egi.Portal">egi.Portal&lt;/a>:
(Central Service) for monitoring generic web portals who dont have a specific
service type&lt;/li>
&lt;li>(deprecated) MSG-Broker: (Central service) A broker for the backbone messaging
system.&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=egi.MetricsPortal">egi.MetricsPortal&lt;/a>:
(Central service) The central metrics portal&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=egi.OpsPortal">egi.OpsPortal&lt;/a>:
(Central service) The central operations portal&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=egi.GRIDVIEW">egi.GRIDVIEW&lt;/a>:
(Central service) The central gridview portal&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=egi.GSTAT">egi.GSTAT&lt;/a>:
(Central service) The central GStat portal&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=egi.SAM">egi.SAM&lt;/a>:
(Central service) The central SAM monitoring&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=ngi.SAM">ngi.SAM&lt;/a>:
(Regional Service) NGI-level SAM monitoring box&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=vo.SAM">vo.SAM&lt;/a>:
(Regional Service) VO-level SAM monitoring box&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=site.SAM">site.SAM&lt;/a>:
(Regional Service) Site-level SAM monitoring box&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=ngi.OpsPortal">ngi.OpsPortal&lt;/a>:
(Regional service) NGI-level regional operations portal instance&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=argo.poem">argo.poem&lt;/a>:
POEM is system for managing profiles of probes and metrics in ARGO system.&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=argo.mon">argo.mon&lt;/a>:
ARGO Monitoring Engine gathers monitoring metrics and publishes to messaging
service.&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=argo.consumer">argo.consumer&lt;/a>:
ARGO Consumer collects monitoring metrics from monitoring engines.&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=argo.computeengine">argo.computeengine&lt;/a>:
ARGO Compute Engine computes availability and reliability of services.
&lt;!-- textlint-disable terminology -->
&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=argo.api">argo.api&lt;/a>:
ARGO API service for retrieving status and A/R results.
&lt;!-- textlint-enable terminology -->
&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=argo.webui">argo.webui&lt;/a>:
ARGO web user interface for metric A/R visualization and recalculation
management.&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=egi.aai.saml">egi.aai.saml&lt;/a>:
EGI Check-in SAML interface. Enables federated access to EGI services and
resources using Security Assertion Markup Language (SAML). Provided by GRNET.&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=egi.aai.oidc">egi.aai.oidc&lt;/a>:
EGI Check-in OpenID Connect interface. Enables federated access to EGI
services and resources using OpenID Connect (OIDC). Provided by GRNET.&lt;/li>
&lt;li>&lt;a href="https://goc.egi.eu/gocdbpi/public/?method=get_service_endpoint&amp;amp;service_type=egi.aai.tts">egi.aai.tts&lt;/a>:
EGI Check-in token translation service. Enables the translation between
different authentication and authorisation protocols. Provided by GRNET.&lt;/li>
&lt;/ul>
&lt;h2 id="adding-new-services-types">Adding new services types&lt;/h2>
&lt;p>Please feel free to make a request for a new service type. All new service type
requests need to be assessed by EGI via lightweight review process (by
&lt;a href="https://go.egi.eu/omb">EGI OMB&lt;/a> and EGI Operations) so that only suitable types
are added, and to prevent duplication.&lt;/p>
&lt;p>You can submit your request via &lt;a href="../../helpdesk">EGI Helpdesk&lt;/a> to the
&amp;ldquo;Configuration and Topology Database (GOCDB)&amp;rdquo; support unit.&lt;/p>
&lt;p>Please specify the following information as part of your request:&lt;/p>
&lt;ul>
&lt;li>name of service type (lowercase):&lt;/li>
&lt;li>high-level description of the service functionality (255 characters max):&lt;/li>
&lt;li>project/community/organization maintaining the software:&lt;/li>
&lt;li>scale of deployment (number of instances and by which organizations):&lt;/li>
&lt;li>contact point (name/email address):&lt;/li>
&lt;/ul>
&lt;p>Note: please provide a suggested service type name following the naming scheme
described above (technology provider&amp;rsquo;s reversed domain . software name) and a
brief sentence to describe the service type.&lt;/p></description></item><item><title>Internal: Sites</title><link>/internal/configuration-database/sites/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/sites/</guid><description>
&lt;h2 id="definition">Definition&lt;/h2>
&lt;p>A site (also known as a &lt;a href="https://confluence.egi.eu/x/Z4IkBQ">Resource Centre&lt;/a>)
is a grouping of grid resources collating multiple Service Endpoints (SEs).
Downtimes are recorded on selected SEs of a site. GOCDB stores the following
information about sites (non exhaustive list). Note, when editing values in the
portal, mandatory fields are marked with &amp;lsquo;*&amp;rsquo;:&lt;/p>
&lt;ul>
&lt;li>A unique (short) name - case sensitive (GOCDB and GoCDB are considered
different)&lt;/li>
&lt;li>An official (long) name&lt;/li>
&lt;li>A domain name for the Site/Resource Centre&lt;/li>
&lt;li>The home web URL of the Site/Resource Centre&lt;/li>
&lt;li>A contact email address and telephone number
&lt;ul>
&lt;li>Emergency email for a fast response time in case of urgent problem&lt;/li>
&lt;li>Alarm email is WLCG Tier1 site specific (used as part of a WLCG workflow for
dealing with specific monitoring alarms)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>A security contact email address and telephone number&lt;/li>
&lt;li>The site timezone&lt;/li>
&lt;li>The site&amp;rsquo;s GIIS URL (Case Sensitive - Please ensure you enter your Site name
which is usually encoded in the URL in the correct case!).
&lt;ul>
&lt;li>e.g. ldap://bdii-rc.some-site.uk:2170/mds-vo-name=SITE-NAME,o=grid (if your
GOCDB site name site name is upper case)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>A mandatory human readable description of the site&lt;/li>
&lt;li>The site&amp;rsquo;s latitude, longitude and location&lt;/li>
&lt;li>Production Infrastructure: The site&amp;rsquo;s intended target infrastructure. This
specifies the infrastructure that the site&amp;rsquo;s services deliver to. This has one
of the following values:
&lt;ul>
&lt;li>Production (with this target infrastructure, the EGI site certification
transition rules apply)&lt;/li>
&lt;li>Test (in future, if the site delivers to this infrastructure, then its
Certification status will be fixed to &amp;lsquo;Candidate&amp;rsquo;).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ROC [GROUP] - The NGI or Region of the site&lt;/li>
&lt;li>Country&lt;/li>
&lt;li>IP address range within which the Site/Resource Centre&amp;rsquo;s services run
&lt;ul>
&lt;li>IP/netmask (x.x.x.x/x.x.x.x). To specify multiple IP/netmask values, use a
comma or semi-colon separated list with no spaces, e.g.
1.2.3.4/255.255.255.0, 1.2.3.5/255.255.255.0&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="manipulating-sites">Manipulating sites&lt;/h2>
&lt;h3 id="viewing-sites">Viewing sites&lt;/h3>
&lt;p>A site listing page shows a listing of all the sites in the database, with
controls to page through the listing. The table headers can be clicked to set
the ordering (ascending or descending).&lt;/p>
&lt;p>Each site also has its own listing page. By clicking the link to view a site,
you can see all of the site&amp;rsquo;s information&lt;/p>
&lt;ul>
&lt;li>Site listing page is available from the sidebar by clicking on the Browse
Sites link.&lt;/li>
&lt;li>sites belonging to a given Operations Centre are also listed from the group
details pages (see below)&lt;/li>
&lt;/ul>
&lt;h3 id="adding-a-site">Adding a site&lt;/h3>
&lt;p>Provided you have proper permissions (check the permissions matrix in the
&lt;a href="../users-roles/managing-roles/_index.md#permissions-associated-to-roles">related section&lt;/a>
, you can add a site by clicking on the Add a New Site link in the sidebar.
Simply fill the form and validate.&lt;/p>
&lt;p>&lt;strong>Note&lt;/strong>: If you just registered as site admin and want your new site to be
registered in GOCDB, please contact your NGI representative.&lt;/p>
&lt;h3 id="editing-site-information">Editing site information&lt;/h3>
&lt;p>The editing process will show you the same form as the adding process. To edit a
site, simply click the &amp;ldquo;&lt;strong>edit&lt;/strong>&amp;rdquo; link on top of the site&amp;rsquo;s details page.&lt;/p>
&lt;h3 id="renaming-a-site">Renaming a site&lt;/h3>
&lt;p>Provided you have permissios, you can change the Short Name, Official Name and
GIIS URL to the new Resource Center details. For more information regarding the
site renaming procedure please see &lt;a href="https://confluence.egi.eu/x/3SAmBg">PROC15&lt;/a>&lt;/p>
&lt;h3 id="removing-a-site">Removing a site&lt;/h3>
&lt;p>Site deletion is not allowed in GOCDB. If a site stops operation, its
certification status should be set to &amp;ldquo;closed&amp;rdquo; (see the next section for more
information).&lt;/p>
&lt;h3 id="changing-site-certification-status">Changing Site Certification Status&lt;/h3>
&lt;p>For each site that delivers to the &amp;lsquo;Production&amp;rsquo; Target Infrastructure, GOCDB
stores and shows information about its certification status. This reflects the
different steps of the official SA1 site certification procedure which typically
follows:&lt;/p>
&lt;p>Candidate -&amp;gt; Uncertified -&amp;gt; Certified.&lt;/p>
&lt;p>The different possible certification statuses are:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Candidate&lt;/strong>: the Resource Centre is in under registration according to the
registration process described in the
&lt;a href="https://confluence.egi.eu/x/FSAmBg">RC registration certification procedure&lt;/a>.
A site will have CANDIDATE status only during certification.&lt;/li>
&lt;li>&lt;strong>Uncertified&lt;/strong>: site information has been validated by the Operations Centre
and is ready to be moved to certified status (again). The certification status of
a site can only be changed by a user with a higher level &amp;lsquo;Regional&amp;rsquo; (or EGI
&amp;lsquo;Project&amp;rsquo;) level role. This usually means that only regional managers/deputies/staff
can update the status of a site that belongs to that region, see the permissions
associated to the roles in the
&lt;a href="../users-roles/managing-roles/_index.md#permissions-associated-to-roles">related section&lt;/a>.&lt;/li>
&lt;li>&lt;strong>Certified&lt;/strong>: the Operations Centre has verified that the site has all middleware
installed, passes the tests and appears stable.&lt;/li>
&lt;li>&lt;strong>Suspended&lt;/strong>: Site does temporarily not conform to production requirements (e.g.
minimum service targets - see the
&lt;a href="https://documents.egi.eu/document/31">Resource Centre OLA&lt;/a>, security matters) and
requires Operations Centre attention. A site can be suspended for a maximum of 4
months after which it must be re-certified or closed.&lt;/li>
&lt;li>&lt;strong>Closed&lt;/strong>: Site is definitely no longer operated by EGI and is only shown for
historic reasons.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Clarifications&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>The uncertified status would generally be an information that a site is ready to
start certification procedure (again). &amp;ldquo;uncertified&amp;rdquo; can also be used as a timewise
unlimited state for sites having to keep an old version of the middleware for the
absolute needs of an important international VO or to flag a site coping with
&lt;a href="https://confluence.egi.eu/x/NoIkBQ">Operations Centre&lt;/a> requirements but not with EGI
availability/reliability thresholds.&lt;/li>
&lt;li>Suspended is always having a temporary meaning. It is used to flag a site temporarily
not coping with with EGI availability/reliability thresholds or security requirements,
and which should be closed or uncertified by its
&lt;a href="https://confluence.egi.eu/x/NoIkBQ">Operations Centre&lt;/a> within 4 months. When being
suspended, sites can express that they want to pass certification again. The suspened
status is useful to EGI and to the Operations Centre themselves to flag the sites that
require attention by the &lt;a href="https://confluence.egi.eu/x/NoIkBQ">Operations Centre&lt;/a>.&lt;/li>
&lt;li>The closed status should be the terminal one. Suspended is not a terminal state.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>The following site state transitions are allowed&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>candidate -&amp;gt; uncertified&lt;/li>
&lt;li>candidate -&amp;gt; closed&lt;/li>
&lt;li>uncertified -&amp;gt; certified&lt;/li>
&lt;li>certified -&amp;gt; suspended&lt;/li>
&lt;li>certified -&amp;gt; closed (on site request)&lt;/li>
&lt;li>suspended -&amp;gt; uncertified&lt;/li>
&lt;li>suspended -&amp;gt; closed&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>The following transitions are explicitly forbidden&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>suspended -&amp;gt; certified&lt;/li>
&lt;li>candidate -&amp;gt; something else but uncertified and closed&lt;/li>
&lt;li>closed -&amp;gt; anything else&lt;/li>
&lt;/ul>
&lt;p>Going with the definition of the suspended status,
&lt;a href="https://confluence.egi.eu/x/NoIkBQ">Operations Centre&lt;/a> managers have to regularly give
their attention to all their suspended sites, so that they are processed within the
given maximum time of four months. Sites being in suspended should either be set to
closed or brought back in production via the uncertified status.&lt;/p>
&lt;p>More information about site certification statuses can be found in the
&lt;a href="https://confluence.egi.eu/x/FwfSB">EGI Federation Procedures&lt;/a>:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://confluence.egi.eu/x/FSAmBg">PROC09 RC Registration and Certification Procedure&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://confluence.egi.eu/x/myAmBg">PROC11 Resource Centre Decommissioning Procedure&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://confluence.egi.eu/x/jSAmBg">PROC12 Production Service Decommissioning Procedure&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Note&lt;/strong>: Site certification status cannot be changed by site administrators, and
requires intervention of Operations Centre staff.&lt;/p></description></item><item><title>Internal: Users and roles</title><link>/internal/configuration-database/users-roles/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/users-roles/</guid><description>
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>In the sub-pages there is an explanation over the EGI Configuration Database
user accounts, how to manage them, and the roles defined.&lt;/p></description></item><item><title>Internal: Service registration requirements</title><link>/internal/configuration-database/service-registration-requirements/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/service-registration-requirements/</guid><description>
&lt;p>Information to provide when registering a new service (the fields marked with an
asterisk are mandatory):&lt;/p>
&lt;ul>
&lt;li>Hosting Site * (select the appropriate RC under which you are registering the
service)&lt;/li>
&lt;li>Service Type * (select the appropriate service type)&lt;/li>
&lt;li>Service URL (Alphanumeric and $-_.+!*&amp;rsquo;(),:)&lt;/li>
&lt;li>Hostname * (valid FQDN format)&lt;/li>
&lt;li>Host IP a.b.c.d&lt;/li>
&lt;li>Host IPv6 (0000:0000:0000:0000:0000:0000:0000:0000[/int]) (optional [/int]
range)&lt;/li>
&lt;li>Host DN (/C=&amp;hellip;/OU=&amp;hellip;/&amp;hellip;)&lt;/li>
&lt;li>Description * (Alphanumeric and basic punctuation)&lt;/li>
&lt;li>Host Operating System (Alphanumeric and basic punctuation)&lt;/li>
&lt;li>Host Architecture (Alphanumeric and basic punctuation)&lt;/li>
&lt;li>Is it a beta service (formerly PPS service)? Y/N&lt;/li>
&lt;li>Is this service in production? Y/N&lt;/li>
&lt;li>Is this service monitored? Y/N&lt;/li>
&lt;li>Contact email * (valid email format)&lt;/li>
&lt;/ul>
&lt;h2 id="scope-tags">Scope Tags&lt;/h2>
&lt;ul>
&lt;li>✓ Optional Tags (At least 1 optional tags must be selected): EGI Local
FedCloud&lt;/li>
&lt;li>✓ Reserved Tags Inheritable from Parent Site: none&lt;/li>
&lt;li>✓ Reserved Tags Directly Assigned (WARNING - If deselected you will not be
able to reselect the tag - it will be moved to the &amp;lsquo;Protected Reserved Tags&amp;rsquo;
list): none&lt;/li>
&lt;li>✗ Protected Reserved Tags (Can only be assigned on request): alice atlas cms
elixir lhcb tier1 tier2 wlcg&lt;/li>
&lt;/ul></description></item><item><title>Internal: Adding a new project</title><link>/internal/configuration-database/adding-new-projects/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/adding-new-projects/</guid><description>
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>GOCDB, the software powering the EGI Configuration Database, is multi-tenanted;
it can host multiple projects in the same instance. There are a number of
different deployment scenarios that can be used to support new projects detailed
below. Please contact the EGI Configuration Database admins and EGI Operations
to discuss the options available.&lt;/p>
&lt;h2 id="1-add-resources-sitesservices-to-an-existing-project">1) Add resources (sites/services) to an existing project&lt;/h2>
&lt;ul>
&lt;li>Resources (NGIs, Sites, Services) would be hosted under an existing project,
e.g. the ‘EGI’ project.&lt;/li>
&lt;li>The new resources would be subject to the rules of the existing project, such
as site certification status changes and project controlled user memberships.&lt;/li>
&lt;li>The resources could not be filtered using a custom scope tag.&lt;/li>
&lt;/ul>
&lt;h2 id="2-add-resources-sitesservices-to-an-existing-project-and-add-a-new-scope-tag-to-represent-a-sub-grouping">2) Add resources (sites/services) to an existing project and add a new Scope tag to represent a sub-grouping&lt;/h2>
&lt;ul>
&lt;li>Resources would be hosted under an existing project, and a new scope tag would
be added for the purposes of resource filtering.&lt;/li>
&lt;li>Since the resources are still hosted under an existing project, the new
resources would still be subject to the rules of the existing project, such as
site certification status changes and project controlled user memberships.&lt;/li>
&lt;li>The resources could be filtered using the new scope tag, but this scope tag
would not strictly represent a project, rather a sub-grouping under the
existing project, e.g.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>get_services&lt;span style="color:#a40000">&amp;amp;&lt;/span>scope=SubGroupX
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note, resources can be tagged multiple times to declare support for multiple
projects and sub-groups:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>get_services&lt;span style="color:#a40000">&amp;amp;&lt;/span>scope=SubGroupX,EGI&lt;span style="color:#a40000">&amp;amp;&lt;/span>scope_match=all
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="3-add-resources-sitesservices-to-a-new-project-and-add-a-new-scope-tag-to-filter-by-project">3) Add resources (sites/services) to a new Project and add a new Scope tag to filter by project&lt;/h2>
&lt;ul>
&lt;li>Resources would be hosted under a new project, and a new scope tag would be
added named after the project for the purposes of resource filtering.&lt;/li>
&lt;li>The resources would not be subject to the rules of other projects, for
example, allowing the project to control its site certification status changes
and project controlled user memberships.&lt;/li>
&lt;li>The resources could be filtered using the scope tag named after the new
project, e.g.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>get_services&lt;span style="color:#a40000">&amp;amp;&lt;/span>scope=ProjectX
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note, resources can be tagged multiple times to declare support for multiple
projects:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>get_services&lt;span style="color:#a40000">&amp;amp;&lt;/span>scope=ProjectX,EGI&lt;span style="color:#a40000">&amp;amp;&lt;/span>scope_match=all
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Internal: FAQ</title><link>/internal/configuration-database/faq/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/internal/configuration-database/faq/</guid><description>
&lt;h2 id="i-am-responsible-for-a-site-that-has-recently-entered-the-egi-infrastructure-how-do-i-register-it">I am responsible for a site that has recently entered the EGI infrastructure. How do I register it?&lt;/h2>
&lt;p>Only registered users with an approved role on an NGI can add a new site. If you
are the site administrator, the first thing to do is to contact your NGI staff
and ask them to add the site for you. Then, register to EGI Configuration
Database (see the user account section) and ask for a site admin role for your
site (see the requesting a role section). Once your role approved, you will be
able to edit and change your site information.&lt;/p>
&lt;h2 id="how-do-i-extend-a-declared-schedule-downtime">How do I extend a declared schedule downtime?&lt;/h2>
&lt;p>Because of EGI policies it is not possible to extend a downtime. Recommended
good practice for any downtime extension is to declare a new unscheduled
downtime, starting just when the first one finishes. Please refer to the
downtimes section of this documentation for more information, especially the
&amp;ldquo;downtime extension&amp;rdquo; paragraph.&lt;/p>
&lt;h2 id="i-have-declared-a-downtime-at-risk-and-it-turns-out-to-be-an-outage-how-can-i-declare-this-properly">I have declared a downtime &amp;ldquo;at risk&amp;rdquo;, and it turns out to be an outage. How can I declare this properly?&lt;/h2>
&lt;p>If you have declared the downtime as being at risk and an outage actually
happens half way through, you need to update the Configuration Database to
reflect the fact that your site is now down. There is currently no way of doing
this by updating the downtime on the fly without having the system considering
the whole downtime as being an outage. The best way to proceed is:&lt;/p>
&lt;ul>
&lt;li>Modify end date of your &amp;ldquo;at risk&amp;rdquo; downtime, so that it ends in a few minutes&lt;/li>
&lt;li>Enter a new &amp;ldquo;outage&amp;rdquo; downtime, starting when the other ends&lt;/li>
&lt;/ul>
&lt;h2 id="how-do-i-switch-monitoring-onoff-for-my-nodes">How do I switch monitoring on/off for my nodes?&lt;/h2>
&lt;p>Monitoring status in Configuration Database cannot always be switched off. If a
node is declared as delivering a production service, rules apply and the node
has to be monitored. If you are running a test node and want to switch
monitoring off, set both &amp;ldquo;monitoring&amp;rdquo; and &amp;ldquo;production&amp;rdquo; to &amp;ldquo;N&amp;rdquo;.&lt;/p>
&lt;h2 id="why-nobody-has-approved-my-role-request-yet">Why nobody has approved my role request yet?&lt;/h2>
&lt;p>Someone has to approve any request you make, in order to ensure nobody is trying
to get inappropriate roles. If yours is not getting approved, this can either be
because your request was not legitimate, or most likely because the people that
are supposed to do it forgot about it. Please refer to the Roles permissions
definitions section of this documentation to determine who should validate your
role, and try to get in touch with them. If you are requesting a site admin
role, they are likely to be your fellow site admins or your NGI operators.&lt;/p>
&lt;h2 id="i-am-not-an-egi-user-but-need-access-to-the-backend-to-retrieve-information-for-my-project-what-can-i-do">I am not an EGI user but need access to the backend to retrieve information for my project. What can I do?&lt;/h2>
&lt;p>Accessing the backend through another way than the
&lt;a href="https://goc.egi.eu">Configuration Database web interface&lt;/a> is out of the scope
of this documentation. Please refer to the technical documentation instead,
which is available from GOCDB Documentation.&lt;/p></description></item></channel></rss>