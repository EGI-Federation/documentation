<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>EGI Documentation â€“ Data Transfer</title><link>/users/data/management/data-transfer/</link><description>Recent content in Data Transfer on EGI Documentation</description><generator>Hugo -- gohugo.io</generator><atom:link href="/users/data/management/data-transfer/index.xml" rel="self" type="application/rss+xml"/><item><title>Users: Data Transfer Web Interface</title><link>/users/data/management/data-transfer/webfts/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/users/data/management/data-transfer/webfts/</guid><description>
&lt;h2 id="overview">Overview&lt;/h2>
&lt;p>The EGI Data Transfer web interface (WebFTS) offers an easy way to
initiate and monitor file transfers between storages using different protocols.
You can check the CERN
&lt;a href="https://fts3-docs.web.cern.ch/fts3-docs/docs/webfts/userguide.html">WebFTS documentation&lt;/a>
and &lt;a href="https://fts3-docs.web.cern.ch/fts3-docs/docs/webfts/faq.html">FAQ&lt;/a> for more
details.&lt;/p>
&lt;h3 id="credential-delegation">Credential Delegation&lt;/h3>
&lt;p>In order to move files between storage endpoints, named also Storage Elements
(SE), the authentication is done using an X.509 certificate which needs to be
installed on the browser. The Integration with EGI Check-in is under development
and will be available at a later date in the production instance.&lt;/p>
&lt;p>A pop-up window appears when you choose the &amp;ldquo;My jobs&amp;rdquo; or &amp;ldquo;Submit a transfer&amp;rdquo;
tabs. There, you will need to paste the private RSA key of your certificate. The
private key &lt;strong>WILL NOT BE TRANSMITTED ANYWHERE&lt;/strong>. It is only used locally
(within the user&amp;rsquo;s browser) to generate the proxies needed to have access to the
FTS services.&lt;/p>
&lt;p>&lt;img src="webfts_delegate.png" alt="image">&lt;/p>
&lt;p>To obtain the private key, you can run in the console:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">openssl pkcs12 -in yourCert.p12 -nocerts -nodes &lt;span style="color:#000;font-weight:bold">|&lt;/span> openssl rsa
&lt;/code>&lt;/pre>&lt;/div>&lt;p>This command requires openssl.&lt;/p>
&lt;p>If you need a delegation with VOMS credentials (required to access some types of
Storage Elements), you will need to introduce the name of the virtual
organization (VO) you belong to.&lt;/p>
&lt;p>From the right button where the remaining time for the current delegation is
shown, you can remove the current delegation and delegate again (the delegation
window will appear).&lt;/p>
&lt;h3 id="submit-a-transfer">Submit a transfer&lt;/h3>
&lt;p>Open the &amp;ldquo;Submit a transfer&amp;rdquo; tab and Load origin and destination storage
elements as endpoints. If one endpoint URL is not known, there is an
autocompletion once 3 characters have been typed. You should also specify the
protocol, the address of the endpoint and the path. (Ex:
&lt;code>gsiftp://lxfsra10a01.cern.ch/dpm/cern.ch/home/&lt;/code>).&lt;/p>
&lt;p>Browse the content and select all the files you want to transfer. &lt;code>CTRL&lt;/code> and
&lt;code>SHIFT&lt;/code> keys can be used for selecting multiple entries at once.&lt;/p>
&lt;p>If you need to filter the list of files and folders, you can use the available
filters: name, size and date. Once you have loaded both endpoints and selected
the files, the transfer buttons will be enabled. Click the button with the
correct direction. A success or error message will appear above the endpoints'
containers.&lt;/p>
&lt;p>You can now check the status of you transfer in the &amp;ldquo;My jobs&amp;rdquo; tab.&lt;/p>
&lt;p>&lt;img src="webfts_submit.png" alt="image">&lt;/p>
&lt;h3 id="listing-your-transfers">Listing your transfers&lt;/h3>
&lt;p>Open the &amp;ldquo;My jobs&amp;rdquo; tab. If you have done any transfers recently, they will
appear there. If you click on an individual transfer, you can see its state and
any errors.&lt;/p>
&lt;p>You can resubmit transfer jobs, but you would need to delegate your credentials
if you did not do it before. You can do this at any state by clicking the
&amp;ldquo;Resubmit&amp;rdquo; button.&lt;/p>
&lt;p>The transfer states are: YELLOW if still running, GREEN if successfully
completed and RED if something went wrong.&lt;/p>
&lt;p>The transfers that are not completed have a &amp;ldquo;Cancel&amp;rdquo; button on the left of the
&amp;ldquo;Resubmit&amp;rdquo; button. Clicking this button will cancel that transfer.&lt;/p>
&lt;p>&lt;img src="webfts_monitor.png" alt="image">&lt;/p></description></item><item><title>Users: Data Tranfer Clients</title><link>/users/data/management/data-transfer/clients/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/users/data/management/data-transfer/clients/</guid><description>
&lt;!--
// jscpd:ignore-start
-->
&lt;h2 id="overview">Overview&lt;/h2>
&lt;p>The FTS3 service offers a command-line client to ease the interaction with the
service.&lt;/p>
&lt;h2 id="prerequisites">Prerequisites&lt;/h2>
&lt;p>The client software is available for RHEL 6 and 7 derivatives.&lt;/p>
&lt;p>Please note that the RHEL 6 support is ending the 30/11/2020 and the
implementation for RHEL 8 is on-going.&lt;/p>
&lt;p>Users from other distributions should refer to the
&lt;a href="../api/#restful-api">RESTFul API section&lt;/a>.&lt;/p>
&lt;h2 id="installation">Installation&lt;/h2>
&lt;p>The CLI can be installed from the EPEL repositories for
&lt;a href="https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm">RHEL 7&lt;/a>
with the following package:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">yum install fts-rest-cli -y
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="commands">Commands&lt;/h2>
&lt;p>This section describes some of the commands that can be issues via the FTS CLI.
As per the API, in order to authenticate to the FTS REST server you need an
X.509 User certificate, please refer to this
&lt;a href="../api/#authentication--authorisation">section&lt;/a>&lt;br>
for more information.&lt;/p>
&lt;p>Check the &lt;a href="https://fts3-docs.web.cern.ch/fts3-docs/fts-rest/docs/cli/index.html">full documentation about the FTS CLI&lt;/a>&lt;/p>
&lt;h3 id="fts-rest-whoami">fts-rest-whoami&lt;/h3>
&lt;p>This command can be used to check, as the name suggests, who are we for the
server.&lt;/p>
&lt;h4 id="usage">Usage&lt;/h4>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">fts-rest-whoami &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>options&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
Options
-h/--help : Show this &lt;span style="color:#204a87">help&lt;/span> message and &lt;span style="color:#204a87">exit&lt;/span>
-v/--verbose : Verbose output.
-s/--endpoint : Fts3 rest endpoint.
-j/--json : Print the output in json format.
--key : The user certificate private key.
--cert : The user certificate.
--capath : Use the specified directory to verify the peer
--insecure : Do not validate the server certificate
--access-token : Oauth2 access token &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>supported only by some endpoints,
takes precedence&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="example">Example&lt;/h4>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">$ fts-rest-whoami -s https://fts3-public.cern.ch:8446
User DN: /DC&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>org/DC&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>terena/DC&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>tcs/C&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>NL/O&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>Stichting EGI/CN&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>Andrea Manzi
VO: dteam
VO id: 6b10f4e4-8fdc-5555-baa2-7d4850d4f406
Delegation id: 9ab8068853808c6b
Base id: 01874efb-4735-4595-bc9c-591aef8240c9
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="fts-rest-delegate">fts-rest-delegate&lt;/h3>
&lt;p>This command can be used to (re)delegate your credentials to the FTS3 server.&lt;/p>
&lt;h4 id="usage-1">Usage&lt;/h4>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">fts-rest-delegate &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>options&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
Options
-h/--help : Show this &lt;span style="color:#204a87">help&lt;/span> message and &lt;span style="color:#204a87">exit&lt;/span>
-v/--verbose : Verbose output.
-s/--endpoint : Fts3 rest endpoint.
-j/--json : Print the output in json format.
--key : The user certificate private key.
--cert : The user certificate.
--capath : Use the specified directory to verify the peer
--insecure : Do not validate the server certificate
--access-token : Oauth2 access token &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>supported only by some endpoints,
takes precedence&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
-f/--force : Force the delegation
-H/--hours : Duration of the delegation in hours &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>default: 12&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="example-1">Example&lt;/h4>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">$ fts-rest-delegate -s https://fts3-public.cern.ch:8446
Delegation id: 9ab8068853808c6b
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="fts-rest-transfer-submit">fts-rest-transfer-submit&lt;/h3>
&lt;p>This command can be used to submit new jobs to FTS3. It supports simple and bulk
submissions. The bulk format is as follows:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;files&amp;#34;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;sources&amp;#34;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;gsiftp://source.host/file&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;destinations&amp;#34;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;gsiftp://destination.host/file&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;metadata&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;file-metadata&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;checksum&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;ADLER32:1234&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;filesize&amp;#34;&lt;/span>: &lt;span style="color:#0000cf;font-weight:bold">1024&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>,
&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;sources&amp;#34;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;gsiftp://source.host/file2&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;destinations&amp;#34;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;gsiftp://destination.host/file2&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;metadata&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;file2-metadata&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;checksum&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;ADLER32:4321&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;filesize&amp;#34;&lt;/span>: 2048,
&lt;span style="color:#4e9a06">&amp;#34;activity&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="usage-2">Usage&lt;/h4>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">fts-rest-transfer-submit &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>options&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> SOURCE DESTINATION &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>CHECKSUM&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
Options
-h/--help : Show this &lt;span style="color:#204a87">help&lt;/span> message and &lt;span style="color:#204a87">exit&lt;/span>
-v/--verbose : Verbose output.
-s/--endpoint : Fts3 rest endpoint.
-j/--json : Print the output in json format.
--key : The user certificate private key.
--cert : The user certificate.
--capath : Use the specified directory to verify the peer
--insecure : Do not validate the server certificate
--access-token : Oauth2 access token &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>supported only by some endpoints,
takes precedence&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
-b/--blocking : Blocking mode. Wait &lt;span style="color:#204a87;font-weight:bold">until&lt;/span> the operation completes.
-i/--interval : Interval between two poll operations in blocking mode.
-e/--expire : Expiration &lt;span style="color:#204a87">time&lt;/span> of the delegation in minutes.
--delegate-when-lifetime-lt : Delegate the proxy when the remote lifetime
is less than this value &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>in minutes&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
-o/--overwrite : Overwrite files.
-r/--reuse : Enable session reuse &lt;span style="color:#204a87;font-weight:bold">for&lt;/span> the transfer job.
--job-metadata : Transfer job metadata.
--file-metadata : File metadata.
--file-size : File size &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>in bytes&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
-g/--gparam : Gridftp parameters.
-t/--dest-token : The destination space token or its description.
-S/--source-token : The &lt;span style="color:#204a87">source&lt;/span> space token or its description.
-K/--compare-checksum : Deprecated: compare checksums between &lt;span style="color:#204a87">source&lt;/span> and
destination.
-C/--checksum-mode : Compare checksums in source, target, both or none.
--copy-pin-lifetime : Pin lifetime of the copy in seconds.
--bring-online : Bring online timeout in seconds.
--timeout : Transfer timeout in seconds.
--fail-nearline : Fail the transfer is the file is nearline.
--dry-run : Do not send anything, just print the json message.
-f/--file : Name of configuration file
--retry : Number of retries. If 0, the server default will be used.
If negative, there will be no retries.
-m/--multi-hop : Submit a multihop transfer.
--cloud-credentials : Use cloud credentials &lt;span style="color:#204a87;font-weight:bold">for&lt;/span> the job &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>i. E. Dropbox&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>.
--nostreams : Number of streams
--ipv4 : Force ipv4
--ipv6 : Force ipv6
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="example-2">Example&lt;/h4>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">fts-rest-transfer-submit -s https://fts3-public.cern.ch:8446 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> gsiftp://source.host/file gsiftp://destination.host/file
Job successfully submitted.
Job id: 7e02b4fa-d568-11ea-9c80-02163e018681
$ fts-rest-transfer-submit -s https://fts3-public.cern.ch:8446 -f test.json
Job successfully submitted.
Job id: 9a28d204-d568-11ea-9c80-02163e018681
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="fts-rest-transfer-status">fts-rest-transfer-status&lt;/h3>
&lt;p>This command can be used to check the current status of a given job.&lt;/p>
&lt;h4 id="usage-3">Usage&lt;/h4>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">fts-rest-transfer-status &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>options&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> JOB_ID
Options
-h/--help : Show this &lt;span style="color:#204a87">help&lt;/span> message and &lt;span style="color:#204a87">exit&lt;/span>
-v/--verbose : Verbose output.
-s/--endpoint : Fts3 rest endpoint.
-j/--json : Print the output in json format.
--key : The user certificate private key.
--cert : The user certificate.
--capath : Use the specified directory to verify the peer
--insecure : Do not validate the server certificate
--access-token : Oauth2 access token &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>supported only by some endpoints,
takes precedence&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="example-3">Example&lt;/h4>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">fts-rest-transfer-status -s https://fts3-public.cern.ch:8446 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> 7e02b4fa-d568-11ea-9c80-02163e018681
Request ID: 7e02b4fa-d568-11ea-9c80-02163e018681
Status: FAILED
Client DN: /DC&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>org/DC&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>terena/DC&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>tcs/C&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>NL/O&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>Stichting EGI/CN&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>Andrea Manzi
Reason: One or more files failed. Please have a look at the details &lt;span style="color:#204a87;font-weight:bold">for&lt;/span> more
information
Submission time: 2020-08-03T09:05:36
Priority: &lt;span style="color:#0000cf;font-weight:bold">3&lt;/span>
VO Name: dteam
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="fts-rest-transfer-cancel">fts-rest-transfer-cancel&lt;/h3>
&lt;p>This command can be used to cancel a running job. It returns the final state of
the cancelled job. Please, mind that if the job is already in a final state
&lt;code>(FINISHEDDIRTY&lt;/code>, &lt;code>FINISHED&lt;/code>, &lt;code>FAILED&lt;/code>), this command will return this state.
You can additionally cancel only a subset appending a comma-separated list of
file IDs.&lt;/p>
&lt;h4 id="usage-4">Usage&lt;/h4>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">fts-rest-transfer-cancel &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>options&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
Options
-h/--help : Show this &lt;span style="color:#204a87">help&lt;/span> message and &lt;span style="color:#204a87">exit&lt;/span>
-v/--verbose : Verbose output.
-s/--endpoint : Fts3 rest endpoint.
-j/--json : Print the output in json format.
--key : The user certificate private key.
--cert : The user certificate.
--capath : Use the specified directory to verify the peer
--insecure : Do not validate the server certificate
--access-token : Oauth2 access token &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>supported only by some endpoints,
takes precedence&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="example-4">Example&lt;/h4>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">fts-rest-transfer-cancel -s https://fts3-public.cern.ch:8446
9a28d204-d568-11ea-9c80-02163e018681
CANCELED
&lt;/code>&lt;/pre>&lt;/div>&lt;!--
// jscpd:ignore-end
--></description></item><item><title>Users: Data Transfer API</title><link>/users/data/management/data-transfer/api/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/users/data/management/data-transfer/api/</guid><description>
&lt;h2 id="overview">Overview&lt;/h2>
&lt;p>EGI Data Transfer offers Application Programming Interfaces (APIs) for both
regular users and administrator. This page focuses on the user APIs,
available in two favors:&lt;/p>
&lt;ul>
&lt;li>REST API&lt;/li>
&lt;li>Python Easy Bindings&lt;/li>
&lt;/ul>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
Please check out the
&lt;a href="https://fts3-docs.web.cern.ch/fts3-docs/fts-rest/docs/easy/index.html">documentation&lt;/a>
for more details about the avilable APIs, their parameters and return values.
&lt;/div>
&lt;h2 id="authentication--authorisation">Authentication &amp;amp; Authorisation&lt;/h2>
&lt;p>Users have to authenticate before they can call the API.&lt;/p>
&lt;!-- markdownlint-disable no-inline-html -->
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Important&lt;/h4>
Authentication requires an
&lt;strong>X.509 user certificate&lt;/strong>.&lt;br/>
Integration with &lt;a href="../../../../aai/check-in">EGI Check-in&lt;/a>, which will allow
authentication using OIDC tokens is under development.
&lt;/div>
&lt;!-- markdownlint-enable no-inline-html -->
&lt;p>During the authentication phase, credentials are delegated to the FTS service,
which will contact the storages to steer the data transfers on behalf of the
users.&lt;/p>
&lt;p>The FTS service supports both plain X.509 proxies and
&lt;a href="https://italiangrid.github.io/voms/index.html">X.509 proxies extended with VO information&lt;/a> (VOMS)
for authentication and authorisation. You can learn more about
&lt;a href="../../../../aai/check-in/vos/voms#creating-a-proxy">VOMS configuration and proxy creation&lt;/a>.&lt;/p>
&lt;h2 id="restful-api">RESTFul API&lt;/h2>
&lt;p>The User RESTFul APIs can be used to submit transfers jobs (collections of
single transfers), monitor and cancel existing transfers. Please check the CERN
&lt;a href="https://fts3-docs.web.cern.ch/fts3-docs/fts-rest/docs/api.html">documentation&lt;/a>
for the full API details. Here we will provide some examples usage using the
Curl client.&lt;/p>
&lt;h3 id="checking-how-the-server-sees-the-identity-of-the-user">Checking how the server sees the identity of the user&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">curl --capath /etc/grid-security/certificates -E &lt;span style="color:#000">$X509_USER_PROXY&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --cacert &lt;span style="color:#000">$X509_USER_PROXY&lt;/span> https://fts3-public.cern.ch:8446/whoami
&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;dn&amp;#34;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;/DC=org/DC=terena/DC=tcs/C=NL/O=Stichting EGI/CN=Andrea Manzi&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;/DC=org/DC=terena/DC=tcs/C=NL/O=Stichting EGI/CN=Andrea Manzi/CN=proxy&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;vos_id&amp;#34;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;6b10f4e4-8fdc-5555-baa2-7d4850d4f406&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;roles&amp;#34;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[]&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;delegation_id&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;9ab8068853808c6b&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;user_dn&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;/DC=org/DC=terena/DC=tcs/C=NL/O=Stichting EGI/CN=Andrea Manzi&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;level&amp;#34;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;transfer&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;vo&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;is_root&amp;#34;&lt;/span>: false,
&lt;span style="color:#4e9a06">&amp;#34;base_id&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;01874efb-4735-4595-bc9c-591aef8240c9&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;vos&amp;#34;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;dteam&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;voms_cred&amp;#34;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;/dteam/Role=NULL/Capability=NULL&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;method&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;certificate&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="getting-a-list-of-jobs-running">Getting a list of jobs running&lt;/h3>
&lt;p>Filtered by VO&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">curl --capath /etc/grid-security/certificates -E &lt;span style="color:#000">$X509_USER_PROXY&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --cacert &lt;span style="color:#000">$X509_USER_PROXY&lt;/span> https://fts3-public.cern.ch:8446/jobs?vo_name&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>dteam
&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;cred_id&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;1426115d1660de4d&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;user_dn&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;/DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=ftssuite/CN=737188/CN=Robot:
&lt;/span>&lt;span style="color:#4e9a06"> fts3 testsuite&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;job_type&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;N&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;retry&amp;#34;&lt;/span>: -1,
&lt;span style="color:#4e9a06">&amp;#34;job_id&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;94560e74-7ca3-11e9-97dd-02163e00d613&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;cancel_job&amp;#34;&lt;/span>: false,
&lt;span style="color:#4e9a06">&amp;#34;job_state&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;FINISHED&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;submit_host&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;fts604.cern.ch&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;priority&amp;#34;&lt;/span>: 3,
&lt;span style="color:#4e9a06">&amp;#34;source_space_token&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;max_time_in_queue&amp;#34;&lt;/span>: null,
&lt;span style="color:#4e9a06">&amp;#34;job_metadata&amp;#34;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;test&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;test_bring_online&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;label&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;fts3-tests&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;source_se&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;mock://somewhere.uk&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;bring_online&amp;#34;&lt;/span>: 120,
&lt;span style="color:#4e9a06">&amp;#34;reason&amp;#34;&lt;/span>: null,
&lt;span style="color:#4e9a06">&amp;#34;space_token&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;submit_time&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;2019-05-22T15:09:22&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;retry_delay&amp;#34;&lt;/span>: 0,
&lt;span style="color:#4e9a06">&amp;#34;dest_se&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;mock://somewhere.uk&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;internal_job_params&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;nostreams:1&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;overwrite_flag&amp;#34;&lt;/span>: false,
&lt;span style="color:#4e9a06">&amp;#34;copy_pin_lifetime&amp;#34;&lt;/span>: -1,
&lt;span style="color:#4e9a06">&amp;#34;verify_checksum&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;n&amp;#34;&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;job_finished&amp;#34;&lt;/span>: null,
&lt;span style="color:#4e9a06">&amp;#34;vo_name&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;dteam&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="cancelling-a-job">Cancelling a job&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">curl --capath /etc/grid-security/certificates -E &lt;span style="color:#000">$X509_USER_PROXY&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --cacert &lt;span style="color:#000">$X509_USER_PROXY&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> -X DELETE &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> https://fts3-pilot.cern.ch:8446/jobs/a40b82b7-1132-459f-a641-f8b49137a713
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="getting-expiration-time-of-delegated-credentials">Getting expiration time of delegated credentials&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">curl --capath /etc/grid-security/certificates -E &lt;span style="color:#000">$X509_USER_PROXY&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> --cacert &lt;span style="color:#000">$X509_USER_PROXY&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;span style="color:#4e9a06">&lt;/span> https://fts3-public.cern.ch:8446/delegation/9ab8068853808c6b
&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;voms_attrs&amp;#34;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>
&lt;span style="color:#4e9a06">&amp;#34;/dteam/Role=NULL/Capability=NULL&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>,
&lt;span style="color:#4e9a06">&amp;#34;termination_time&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;2020-07-31T22:50:28&amp;#34;&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="python-bindings">Python Bindings&lt;/h2>
&lt;p>The Python bindings for FTS can be installed from the EPEL package repository
(EL6 and EL7 packages are available) with Python 2.7 being supported.&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">yum install python-fts -y
&lt;/code>&lt;/pre>&lt;/div>&lt;p>For using the bindings, you need to import &lt;code>fts3.rest.client.easy&lt;/code>, although for
convenience it can be renamed as something else:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">import fts3.rest.client.easy as fts3
&lt;/code>&lt;/pre>&lt;/div>&lt;p>In the following code snippets, an import as above is assumed.&lt;/p>
&lt;p>In order to be able to do any operation, information about the state of the user
credentials and remote endpoint needs to be kept. That&amp;rsquo;s the purpose of a
Context.&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">&lt;span style="color:#000">context&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> fts3.Context&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>endpoint, ucert, ukey, &lt;span style="color:#000">verify&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>True&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>The endpoint to use corresponds to the FTS instance REST server and it must have
the following format:&lt;/p>
&lt;p>&lt;code>https://\&amp;lt;host&amp;gt;:\&amp;lt;port&amp;gt;&lt;/code>&lt;/p>
&lt;p>for instance &lt;code>https://fts3-public.cern.ch:8446&lt;/code>&lt;/p>
&lt;p>If you are using a proxy certificate, you can either specify only
&lt;code>user_certificate&lt;/code>, or point both parameters to the proxy. &lt;code>user_certificate&lt;/code>
and &lt;code>user_key&lt;/code> can be safely omitted, and the program will use the values
defined in the environment variables &lt;code>X509_USER_PROXY&lt;/code> or &lt;code>X509_USER_CERT&lt;/code> +
&lt;code>X509_USER_KEY&lt;/code>.&lt;/p>
&lt;p>If verify is &lt;code>False&lt;/code>, the server certificate will not be verified.&lt;/p>
&lt;p>Here are some examples about creating a context, submitting a job with a single
transfer and getting the job status:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">&lt;span style="color:#8f5902;font-style:italic"># pretty print the json outputs&lt;/span>
&amp;gt;&amp;gt;&amp;gt; import pprint
&amp;gt;&amp;gt;&amp;gt; &lt;span style="color:#000">pp&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> pprint.PrettyPrinter&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>&lt;span style="color:#000">indent&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>4&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># creating the context&lt;/span>
&amp;gt;&amp;gt;&amp;gt; &lt;span style="color:#000">context&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> fts3.Context&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;https://fts3-public.cern.ch:8446&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># printing the whoami info&lt;/span>
&amp;gt;&amp;gt;&amp;gt; pp.pprint &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>fts3.whoami&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>context&lt;span style="color:#ce5c00;font-weight:bold">))&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span> u&lt;span style="color:#4e9a06">&amp;#39;base_id&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;01874efb-4735-4595-bc9c-591aef8240c9&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;delegation_id&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;9ab8068853808c6b&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;dn&amp;#39;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span> u&lt;span style="color:#4e9a06">&amp;#39;/DC=org/DC=terena/DC=tcs/C=NL/O=Stichting EGI/CN=Andrea Manzi&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;/DC=org/DC=terena/DC=tcs/C=NL/O=Stichting EGI/CN=Andrea Manzi/CN=proxy&amp;#39;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;is_root&amp;#39;&lt;/span>: False,
u&lt;span style="color:#4e9a06">&amp;#39;level&amp;#39;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span> u&lt;span style="color:#4e9a06">&amp;#39;transfer&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;vo&amp;#39;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;method&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;certificate&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;roles&amp;#39;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[]&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;user_dn&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;/DC=org/DC=terena/DC=tcs/C=NL/O=Stichting EGI/CN=Andrea Manzi&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;voms_cred&amp;#39;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>u&lt;span style="color:#4e9a06">&amp;#39;/dteam/Role=NULL/Capability=NULL&amp;#39;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;vos&amp;#39;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>u&lt;span style="color:#4e9a06">&amp;#39;dteam&amp;#39;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;vos_id&amp;#39;&lt;/span>: &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>u&lt;span style="color:#4e9a06">&amp;#39;6b10f4e4-8fdc-5555-baa2-7d4850d4f406&amp;#39;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">]}&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># creating a new transfer and submiting a job&lt;/span>
&amp;gt;&amp;gt;&amp;gt; &lt;span style="color:#000">transfer&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> fts3.new_transfer&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>
... &lt;span style="color:#4e9a06">&amp;#39;gsiftp://source/path&amp;#39;&lt;/span>, &lt;span style="color:#4e9a06">&amp;#39;gsiftp://destination/path&amp;#39;&lt;/span>,
... &lt;span style="color:#000">checksum&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;ADLER32:1234&amp;#39;&lt;/span>, &lt;span style="color:#000">filesize&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>1024,
... &lt;span style="color:#000">metadata&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;Submission example&amp;#39;&lt;/span>
... &lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&amp;gt;&amp;gt;&amp;gt; &lt;span style="color:#000">job&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> fts3.new_job&lt;span style="color:#ce5c00;font-weight:bold">([&lt;/span>transfer&lt;span style="color:#ce5c00;font-weight:bold">])&lt;/span>
&amp;gt;&amp;gt;&amp;gt; &lt;span style="color:#000">job_id&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> fts3.submit&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>context, job&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&amp;gt;&amp;gt;&amp;gt; print job_id
b6191212-d347-11ea-8a47-fa163e45cbc4
&lt;span style="color:#8f5902;font-style:italic"># get the job status&lt;/span>
&amp;gt;&amp;gt;&amp;gt; pp.pprint&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>fts3.get_job_status&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>context, job_id&lt;span style="color:#ce5c00;font-weight:bold">))&lt;/span>
&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span> u&lt;span style="color:#4e9a06">&amp;#39;bring_online&amp;#39;&lt;/span>: -1,
u&lt;span style="color:#4e9a06">&amp;#39;cancel_job&amp;#39;&lt;/span>: False,
u&lt;span style="color:#4e9a06">&amp;#39;copy_pin_lifetime&amp;#39;&lt;/span>: -1,
u&lt;span style="color:#4e9a06">&amp;#39;cred_id&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;9ab8068853808c6b&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;dest_se&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;gsiftp://destination&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;http_status&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;200 Ok&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;internal_job_params&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;nostreams:1&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;job_finished&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;2020-07-31T16:05:55&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;job_id&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;b6191212-d347-11ea-8a47-fa163e45cbc4&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;job_metadata&amp;#39;&lt;/span>: None,
u&lt;span style="color:#4e9a06">&amp;#39;job_state&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;FAILED&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;job_type&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;N&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;max_time_in_queue&amp;#39;&lt;/span>: None,
u&lt;span style="color:#4e9a06">&amp;#39;overwrite_flag&amp;#39;&lt;/span>: False,
u&lt;span style="color:#4e9a06">&amp;#39;priority&amp;#39;&lt;/span>: 3,
u&lt;span style="color:#4e9a06">&amp;#39;reason&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;One or more files failed. Please have a look at the details for
&lt;/span>&lt;span style="color:#4e9a06"> more information&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;retry&amp;#39;&lt;/span>: -1,
u&lt;span style="color:#4e9a06">&amp;#39;retry_delay&amp;#39;&lt;/span>: 0,
u&lt;span style="color:#4e9a06">&amp;#39;source_se&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;gsiftp://source&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;source_space_token&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;space_token&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;submit_host&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;fts-public-03.cern.ch&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;submit_time&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;2020-07-31T16:05:54&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;user_dn&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;/DC=org/DC=terena/DC=tcs/C=NL/O=Stichting EGI/CN=Andrea Manzi&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;verify_checksum&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;t&amp;#39;&lt;/span>,
u&lt;span style="color:#4e9a06">&amp;#39;vo_name&amp;#39;&lt;/span>: u&lt;span style="color:#4e9a06">&amp;#39;dteam&amp;#39;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Users: Monitoring Data Transfer</title><link>/users/data/management/data-transfer/monitoring/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/users/data/management/data-transfer/monitoring/</guid><description>
&lt;h2 id="overview">Overview&lt;/h2>
&lt;p>Each instance of the FTS3 service, offers a Web monitoring interface, that can
be accessed by end users in order to monitor their submitted transfers and
obtain statistics.&lt;/p>
&lt;h2 id="features">Features&lt;/h2>
&lt;p>The Web monitoring can be accessed without user authentication, only access to
the transfer log files needs an X.509 user certificate installed on the browser.&lt;/p>
&lt;h3 id="overview-page">Overview page&lt;/h3>
&lt;p>The Overview page offers a way to access the information about the transfers
submitted and executed in the last 6 hours. Users can filter transfers per
Virtual Organization, source or destination storage or JobId.&lt;/p>
&lt;p>&lt;img src="ftsmon_overview.png" alt="image">&lt;/p>
&lt;h3 id="job-details-page">Job details page&lt;/h3>
&lt;p>By selecting a specific job the information about the job details are displayed.
Each transfer part of the job is listed with his own information. From this page
it&amp;rsquo;s also possible to access the transfer logs (upon authentication).&lt;/p>
&lt;p>&lt;img src="ftsmon_details.png" alt="image">&lt;/p>
&lt;h3 id="optimizer-page">Optimizer page&lt;/h3>
&lt;p>The Optimizer page shows Optimizer information about a specific link, detailing
the throughput evolution and the parallel transfer/stream per link at a given
time.&lt;/p>
&lt;p>&lt;img src="ftsmon_optimizer.png" alt="image">&lt;/p></description></item></channel></rss>